{
    "sourceFile": "FoodMood/src/pages/Register/Register.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 45,
            "patches": [
                {
                    "date": 1740819072514,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1740819121449,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,10 @@\n-import React from \"react\";\n\\ No newline at end of file\n+import React from \"react\";\r\n+\r\n+const Register = ({ user, onClose, onSave, isEditing }) => {\r\n+    return (\r\n+        <>\r\n+        </>\r\n+    )\r\n+};\r\n+\r\n+export default Register;\r\n"
                },
                {
                    "date": 1740819127578,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,8 +2,9 @@\n \r\n const Register = ({ user, onClose, onSave, isEditing }) => {\r\n     return (\r\n         <>\r\n+            ล็อคอิน\r\n         </>\r\n     )\r\n };\r\n \r\n"
                },
                {
                    "date": 1740819256515,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,12 @@\n import React from \"react\";\r\n+import { Grid, TextField } from \"@mui/material\";\r\n \r\n const Register = ({ user, onClose, onSave, isEditing }) => {\r\n     return (\r\n-        <>\r\n-            ล็อคอิน\r\n-        </>\r\n+        <Grid>\r\n+            <TextField />\r\n+        </Grid>\r\n     )\r\n };\r\n \r\n export default Register;\r\n"
                },
                {
                    "date": 1740819304690,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,14 @@\n \r\n const Register = ({ user, onClose, onSave, isEditing }) => {\r\n     return (\r\n         <Grid>\r\n-            <TextField />\r\n+            <TextField\r\n+          disabled\r\n+          id=\"outlined-disabled\"\r\n+          label=\"Disabled\"\r\n+          defaultValue=\"Hello World\"\r\n+        />\r\n         </Grid>\r\n     )\r\n };\r\n \r\n"
                },
                {
                    "date": 1740819314801,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,12 +4,12 @@\n const Register = ({ user, onClose, onSave, isEditing }) => {\r\n     return (\r\n         <Grid>\r\n             <TextField\r\n-          disabled\r\n-          id=\"outlined-disabled\"\r\n-          label=\"Disabled\"\r\n-          defaultValue=\"Hello World\"\r\n+          id=\"outlined-password-input\"\r\n+          label=\"Password\"\r\n+          type=\"password\"\r\n+          autoComplete=\"current-password\"\r\n         />\r\n         </Grid>\r\n     )\r\n };\r\n"
                },
                {
                    "date": 1740819347966,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,12 +4,13 @@\n const Register = ({ user, onClose, onSave, isEditing }) => {\r\n     return (\r\n         <Grid>\r\n             <TextField\r\n-          id=\"outlined-password-input\"\r\n-          label=\"Password\"\r\n-          type=\"password\"\r\n-          autoComplete=\"current-password\"\r\n+          required\r\n+          id=\"filled-required\"\r\n+          label=\"Required\"\r\n+          defaultValue=\"Hello World\"\r\n+          variant=\"filled\"\r\n         />\r\n         </Grid>\r\n     )\r\n };\r\n"
                },
                {
                    "date": 1740819366162,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,14 +4,13 @@\n const Register = ({ user, onClose, onSave, isEditing }) => {\r\n     return (\r\n         <Grid>\r\n             <TextField\r\n-          required\r\n-          id=\"filled-required\"\r\n-          label=\"Required\"\r\n-          defaultValue=\"Hello World\"\r\n-          variant=\"filled\"\r\n-        />\r\n+                required\r\n+                id=\"filled-required\"\r\n+                label=\"username\"\r\n+                variant=\"filled\"\r\n+            />\r\n         </Grid>\r\n     )\r\n };\r\n \r\n"
                },
                {
                    "date": 1740819392353,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,14 +3,10 @@\n \r\n const Register = ({ user, onClose, onSave, isEditing }) => {\r\n     return (\r\n         <Grid>\r\n-            <TextField\r\n-                required\r\n-                id=\"filled-required\"\r\n-                label=\"username\"\r\n-                variant=\"filled\"\r\n-            />\r\n+            <TextField required id=\"filled-required\" label=\"username\" variant=\"filled\" />\r\n+            <TextField required id=\"filled-required\" label=\"password\" variant=\"filled\" />\r\n         </Grid>\r\n     )\r\n };\r\n \r\n"
                },
                {
                    "date": 1740819586604,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,13 @@\n import React from \"react\";\r\n-import { Grid, TextField } from \"@mui/material\";\r\n+import { Button, Grid, TextField } from \"@mui/material\";\r\n \r\n const Register = ({ user, onClose, onSave, isEditing }) => {\r\n     return (\r\n         <Grid>\r\n             <TextField required id=\"filled-required\" label=\"username\" variant=\"filled\" />\r\n             <TextField required id=\"filled-required\" label=\"password\" variant=\"filled\" />\r\n+            <Button />\r\n         </Grid>\r\n     )\r\n };\r\n \r\n"
                },
                {
                    "date": 1740819629881,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,11 +3,12 @@\n \r\n const Register = ({ user, onClose, onSave, isEditing }) => {\r\n     return (\r\n         <Grid>\r\n+            <p></p>\r\n             <TextField required id=\"filled-required\" label=\"username\" variant=\"filled\" />\r\n             <TextField required id=\"filled-required\" label=\"password\" variant=\"filled\" />\r\n-            <Button />\r\n+            <Button variant=\"contained\"></Button>\r\n         </Grid>\r\n     )\r\n };\r\n \r\n"
                },
                {
                    "date": 1740819638883,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n \r\n const Register = ({ user, onClose, onSave, isEditing }) => {\r\n     return (\r\n         <Grid>\r\n-            <p></p>\r\n+            <p>เพิ่มแอดมินลงกฟะฟิฟหำ</p>\r\n             <TextField required id=\"filled-required\" label=\"username\" variant=\"filled\" />\r\n             <TextField required id=\"filled-required\" label=\"password\" variant=\"filled\" />\r\n             <Button variant=\"contained\"></Button>\r\n         </Grid>\r\n"
                },
                {
                    "date": 1740819644191,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n \r\n const Register = ({ user, onClose, onSave, isEditing }) => {\r\n     return (\r\n         <Grid>\r\n-            <p>เพิ่มแอดมินลงกฟะฟิฟหำ</p>\r\n+            <p>เพิ่มแอดมินลง Database </p>\r\n             <TextField required id=\"filled-required\" label=\"username\" variant=\"filled\" />\r\n             <TextField required id=\"filled-required\" label=\"password\" variant=\"filled\" />\r\n             <Button variant=\"contained\"></Button>\r\n         </Grid>\r\n"
                },
                {
                    "date": 1740819659200,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,12 +3,12 @@\n \r\n const Register = ({ user, onClose, onSave, isEditing }) => {\r\n     return (\r\n         <Grid>\r\n-            <p>เพิ่มแอดมินลง Database </p>\r\n+            <p>เพิ่มแอดมินลง Database</p>\r\n             <TextField required id=\"filled-required\" label=\"username\" variant=\"filled\" />\r\n             <TextField required id=\"filled-required\" label=\"password\" variant=\"filled\" />\r\n-            <Button variant=\"contained\"></Button>\r\n+            <Button variant=\"contained\">Register</Button>\r\n         </Grid>\r\n     )\r\n };\r\n \r\n"
                },
                {
                    "date": 1740819675085,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n     return (\r\n         <Grid>\r\n             <p>เพิ่มแอดมินลง Database</p>\r\n             <TextField required id=\"filled-required\" label=\"username\" variant=\"filled\" />\r\n-            <TextField required id=\"filled-required\" label=\"password\" variant=\"filled\" />\r\n+            <TextField required id=\"filled-required\" label=\"password\" variant=\"filled\" maxlength={6} />\r\n             <Button variant=\"contained\">Register</Button>\r\n         </Grid>\r\n     )\r\n };\r\n"
                },
                {
                    "date": 1740819701627,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,10 @@\n import React from \"react\";\r\n import { Button, Grid, TextField } from \"@mui/material\";\r\n+import Swal from 'sweetalert2';\r\n \r\n+\r\n+\r\n const Register = ({ user, onClose, onSave, isEditing }) => {\r\n     return (\r\n         <Grid>\r\n             <p>เพิ่มแอดมินลง Database</p>\r\n"
                },
                {
                    "date": 1740819735203,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,6 @@\n import React from \"react\";\r\n+import axios from 'axios';\r\n import { Button, Grid, TextField } from \"@mui/material\";\r\n import Swal from 'sweetalert2';\r\n \r\n \r\n"
                },
                {
                    "date": 1740819765129,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,14 @@\n-import React from \"react\";\r\n+import React, { useEffect } from \"react\";\r\n import axios from 'axios';\r\n import { Button, Grid, TextField } from \"@mui/material\";\r\n import Swal from 'sweetalert2';\r\n \r\n+useEffect(() => {\r\n+        \r\n+    }\r\n+);\r\n \r\n-\r\n const Register = ({ user, onClose, onSave, isEditing }) => {\r\n     return (\r\n         <Grid>\r\n             <p>เพิ่มแอดมินลง Database</p>\r\n"
                },
                {
                    "date": 1740819795557,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,20 @@\n+import React, { useEffect } from \"react\";\r\n+import { Button, Grid, TextField } from \"@mui/material\";\r\n+import Swal from 'sweetalert2';\r\n+\r\n+const handleSave = () => {\r\n+\r\n+};\r\n+\r\n+const Register = ({ user, onClose, onSave, isEditing }) => {\r\n+    return (\r\n+        <Grid>\r\n+            <p>เพิ่มแอดมินลง Database</p>\r\n+            <TextField required id=\"filled-required\" label=\"username\" variant=\"filled\" />\r\n+            <TextField required id=\"filled-required\" label=\"password\" variant=\"filled\" maxlength={6} />\r\n+            <Button variant=\"contained\">Register</Button>\r\n+        </Grid>\r\n+    )\r\n+};\r\n+\r\n+export default Register;\r\n"
                },
                {
                    "date": 1740819806865,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,36 +7,14 @@\n };\r\n \r\n const Register = ({ user, onClose, onSave, isEditing }) => {\r\n     return (\r\n-        <Grid>\r\n+        <Box>\r\n             <p>เพิ่มแอดมินลง Database</p>\r\n             <TextField required id=\"filled-required\" label=\"username\" variant=\"filled\" />\r\n             <TextField required id=\"filled-required\" label=\"password\" variant=\"filled\" maxlength={6} />\r\n             <Button variant=\"contained\">Register</Button>\r\n-        </Grid>\r\n+        </Box>\r\n     )\r\n };\r\n \r\n export default Register;\r\n-import React, { useEffect } from \"react\";\r\n-import axios from 'axios';\r\n-import { Button, Grid, TextField } from \"@mui/material\";\r\n-import Swal from 'sweetalert2';\r\n-\r\n-useEffect(() => {\r\n-        \r\n-    }\r\n-);\r\n-\r\n-const Register = ({ user, onClose, onSave, isEditing }) => {\r\n-    return (\r\n-        <Grid>\r\n-            <p>เพิ่มแอดมินลง Database</p>\r\n-            <TextField required id=\"filled-required\" label=\"username\" variant=\"filled\" />\r\n-            <TextField required id=\"filled-required\" label=\"password\" variant=\"filled\" maxlength={6} />\r\n-            <Button variant=\"contained\">Register</Button>\r\n-        </Grid>\r\n-    )\r\n-};\r\n-\r\n-export default Register;\r\n"
                },
                {
                    "date": 1740819812961,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useEffect } from \"react\";\r\n-import { Button, Grid, TextField } from \"@mui/material\";\r\n+import { Box, Button, Grid, TextField } from \"@mui/material\";\r\n import Swal from 'sweetalert2';\r\n \r\n const handleSave = () => {\r\n \r\n"
                },
                {
                    "date": 1740820078782,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,20 +1,75 @@\n-import React, { useEffect } from \"react\";\r\n-import { Box, Button, Grid, TextField } from \"@mui/material\";\r\n+import React, { useState } from \"react\";\r\n+import { TextField, Button } from \"@mui/material\";\r\n import Swal from 'sweetalert2';\r\n+import axios from \"axios\";\r\n \r\n-const handleSave = () => {\r\n+const Register = ({ onClose }) => {\r\n+    const [name, setName] = useState(\"\");\r\n+    const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n+    const [username, setUsername] = useState(\"\");\r\n+    const [password, setPassword] = useState(\"\");\r\n \r\n-};\r\n+    const handleSave = async () => {\r\n+        if (!name || !phoneNumber || !username || !password) {\r\n+            Swal.fire(\"Error\", \"กรุณากรอกข้อมูลให้ครบถ้วน\", \"error\");\r\n+            return;\r\n+        }\r\n \r\n-const Register = ({ user, onClose, onSave, isEditing }) => {\r\n+        if (password.length < 6) {\r\n+            Swal.fire(\"Error\", \"Password ต้องมีอย่างน้อย 6 ตัวอักษร\", \"error\");\r\n+            return;\r\n+        }\r\n+\r\n+        try {\r\n+            const res = await axios.post(\"http://localhost:5000/register\", {\r\n+                name,\r\n+                phone_number: phoneNumber,\r\n+                username,\r\n+                password,\r\n+            });\r\n+\r\n+            Swal.fire(\"สำเร็จ\", res.data.message, \"success\");\r\n+            onClose();  // ปิด Modal หรือหน้า Register ถ้ามีการส่ง props นี้มา\r\n+        } catch (err) {\r\n+            Swal.fire(\"Error\", err.response?.data?.error || \"เกิดข้อผิดพลาด\", \"error\");\r\n+        }\r\n+    };\r\n+\r\n     return (\r\n-        <Box>\r\n+        <>\r\n             <p>เพิ่มแอดมินลง Database</p>\r\n-            <TextField required id=\"filled-required\" label=\"username\" variant=\"filled\" />\r\n-            <TextField required id=\"filled-required\" label=\"password\" variant=\"filled\" maxlength={6} />\r\n-            <Button variant=\"contained\">Register</Button>\r\n-        </Box>\r\n-    )\r\n+            <TextField\r\n+                required\r\n+                label=\"ชื่อ-นามสกุล\"\r\n+                variant=\"filled\"\r\n+                value={name}\r\n+                onChange={(e) => setName(e.target.value)}\r\n+            />\r\n+            <TextField\r\n+                required\r\n+                label=\"เบอร์โทรศัพท์\"\r\n+                variant=\"filled\"\r\n+                value={phoneNumber}\r\n+                onChange={(e) => setPhoneNumber(e.target.value)}\r\n+            />\r\n+            <TextField\r\n+                required\r\n+                label=\"Username\"\r\n+                variant=\"filled\"\r\n+                value={username}\r\n+                onChange={(e) => setUsername(e.target.value)}\r\n+            />\r\n+            <TextField\r\n+                required\r\n+                label=\"Password\"\r\n+                variant=\"filled\"\r\n+                type=\"password\"\r\n+                value={password}\r\n+                onChange={(e) => setPassword(e.target.value)}\r\n+            />\r\n+            <Button variant=\"contained\" onClick={handleSave}>Register</Button>\r\n+        </>\r\n+    );\r\n };\r\n \r\n export default Register;\r\n"
                },
                {
                    "date": 1740820114328,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n         <>\r\n             <p>เพิ่มแอดมินลง Database</p>\r\n             <TextField\r\n                 required\r\n-                label=\"ชื่อ-นามสกุล\"\r\n+                label=\"ชื่อพนักงาน\"\r\n                 variant=\"filled\"\r\n                 value={name}\r\n                 onChange={(e) => setName(e.target.value)}\r\n             />\r\n"
                },
                {
                    "date": 1740820163578,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,8 +39,15 @@\n         <>\r\n             <p>เพิ่มแอดมินลง Database</p>\r\n             <TextField\r\n                 required\r\n+                label=\"Username\"\r\n+                variant=\"filled\"\r\n+                value={username}\r\n+                onChange={(e) => setUsername(e.target.value)}\r\n+            />\r\n+            <TextField\r\n+                required\r\n                 label=\"ชื่อพนักงาน\"\r\n                 variant=\"filled\"\r\n                 value={name}\r\n                 onChange={(e) => setName(e.target.value)}\r\n@@ -51,17 +58,11 @@\n                 variant=\"filled\"\r\n                 value={phoneNumber}\r\n                 onChange={(e) => setPhoneNumber(e.target.value)}\r\n             />\r\n+            \r\n             <TextField\r\n                 required\r\n-                label=\"Username\"\r\n-                variant=\"filled\"\r\n-                value={username}\r\n-                onChange={(e) => setUsername(e.target.value)}\r\n-            />\r\n-            <TextField\r\n-                required\r\n                 label=\"Password\"\r\n                 variant=\"filled\"\r\n                 type=\"password\"\r\n                 value={password}\r\n"
                },
                {
                    "date": 1740820215002,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,14 +1,16 @@\n import React, { useState } from \"react\";\r\n-import { TextField, Button } from \"@mui/material\";\r\n+import { TextField, Button, IconButton, InputAdornment } from \"@mui/material\";\r\n+import { Visibility, VisibilityOff } from \"@mui/icons-material\";\r\n import Swal from 'sweetalert2';\r\n import axios from \"axios\";\r\n \r\n const Register = ({ onClose }) => {\r\n     const [name, setName] = useState(\"\");\r\n     const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n     const [username, setUsername] = useState(\"\");\r\n     const [password, setPassword] = useState(\"\");\r\n+    const [showPassword, setShowPassword] = useState(false);  // 🔹 State สำหรับเปิด/ปิด Password\r\n \r\n     const handleSave = async () => {\r\n         if (!name || !phoneNumber || !username || !password) {\r\n             Swal.fire(\"Error\", \"กรุณากรอกข้อมูลให้ครบถ้วน\", \"error\");\r\n@@ -39,17 +41,10 @@\n         <>\r\n             <p>เพิ่มแอดมินลง Database</p>\r\n             <TextField\r\n                 required\r\n-                label=\"Username\"\r\n+                label=\"ชื่อ-นามสกุล\"\r\n                 variant=\"filled\"\r\n-                value={username}\r\n-                onChange={(e) => setUsername(e.target.value)}\r\n-            />\r\n-            <TextField\r\n-                required\r\n-                label=\"ชื่อพนักงาน\"\r\n-                variant=\"filled\"\r\n                 value={name}\r\n                 onChange={(e) => setName(e.target.value)}\r\n             />\r\n             <TextField\r\n@@ -58,16 +53,31 @@\n                 variant=\"filled\"\r\n                 value={phoneNumber}\r\n                 onChange={(e) => setPhoneNumber(e.target.value)}\r\n             />\r\n-            \r\n             <TextField\r\n                 required\r\n+                label=\"Username\"\r\n+                variant=\"filled\"\r\n+                value={username}\r\n+                onChange={(e) => setUsername(e.target.value)}\r\n+            />\r\n+            <TextField\r\n+                required\r\n                 label=\"Password\"\r\n                 variant=\"filled\"\r\n-                type=\"password\"\r\n+                type={showPassword ? \"text\" : \"password\"} // 🔹 เปลี่ยน type ตาม state\r\n                 value={password}\r\n                 onChange={(e) => setPassword(e.target.value)}\r\n+                InputProps={{\r\n+                    endAdornment: (\r\n+                        <InputAdornment position=\"end\">\r\n+                            <IconButton onClick={() => setShowPassword(!showPassword)}>\r\n+                                {showPassword ? <VisibilityOff /> : <Visibility />}\r\n+                            </IconButton>\r\n+                        </InputAdornment>\r\n+                    )\r\n+                }}\r\n             />\r\n             <Button variant=\"contained\" onClick={handleSave}>Register</Button>\r\n         </>\r\n     );\r\n"
                },
                {
                    "date": 1740820245019,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,16 +1,16 @@\n import React, { useState } from \"react\";\r\n-import { TextField, Button, IconButton, InputAdornment } from \"@mui/material\";\r\n-import { Visibility, VisibilityOff } from \"@mui/icons-material\";\r\n+import { TextField, Button } from \"@mui/material\";\r\n import Swal from 'sweetalert2';\r\n import axios from \"axios\";\r\n+import { Visibility, VisibilityOff } from \"@mui/icons-material\";\r\n \r\n const Register = ({ onClose }) => {\r\n     const [name, setName] = useState(\"\");\r\n     const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n     const [username, setUsername] = useState(\"\");\r\n     const [password, setPassword] = useState(\"\");\r\n-    const [showPassword, setShowPassword] = useState(false);  // 🔹 State สำหรับเปิด/ปิด Password\r\n+    const [showPassword, setShowPassword] = useState(false);\r\n \r\n     const handleSave = async () => {\r\n         if (!name || !phoneNumber || !username || !password) {\r\n             Swal.fire(\"Error\", \"กรุณากรอกข้อมูลให้ครบถ้วน\", \"error\");\r\n@@ -41,10 +41,17 @@\n         <>\r\n             <p>เพิ่มแอดมินลง Database</p>\r\n             <TextField\r\n                 required\r\n-                label=\"ชื่อ-นามสกุล\"\r\n+                label=\"Username\"\r\n                 variant=\"filled\"\r\n+                value={username}\r\n+                onChange={(e) => setUsername(e.target.value)}\r\n+            />\r\n+            <TextField\r\n+                required\r\n+                label=\"ชื่อพนักงาน\"\r\n+                variant=\"filled\"\r\n                 value={name}\r\n                 onChange={(e) => setName(e.target.value)}\r\n             />\r\n             <TextField\r\n@@ -55,15 +62,8 @@\n                 onChange={(e) => setPhoneNumber(e.target.value)}\r\n             />\r\n             <TextField\r\n                 required\r\n-                label=\"Username\"\r\n-                variant=\"filled\"\r\n-                value={username}\r\n-                onChange={(e) => setUsername(e.target.value)}\r\n-            />\r\n-            <TextField\r\n-                required\r\n                 label=\"Password\"\r\n                 variant=\"filled\"\r\n                 type={showPassword ? \"text\" : \"password\"} // 🔹 เปลี่ยน type ตาม state\r\n                 value={password}\r\n"
                },
                {
                    "date": 1740820256688,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState } from \"react\";\r\n-import { TextField, Button } from \"@mui/material\";\r\n+import { TextField, Button, InputAdornment, } from \"@mui/material\";\r\n import Swal from 'sweetalert2';\r\n import axios from \"axios\";\r\n import { Visibility, VisibilityOff } from \"@mui/icons-material\";\r\n \r\n"
                },
                {
                    "date": 1740820300782,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState } from \"react\";\r\n-import { TextField, Button, InputAdornment, } from \"@mui/material\";\r\n+import { TextField, Button, InputAdornment, IconButton } from \"@mui/material\";\r\n import Swal from 'sweetalert2';\r\n import axios from \"axios\";\r\n import { Visibility, VisibilityOff } from \"@mui/icons-material\";\r\n \r\n@@ -38,9 +38,8 @@\n     };\r\n \r\n     return (\r\n         <>\r\n-            <p>เพิ่มแอดมินลง Database</p>\r\n             <TextField\r\n                 required\r\n                 label=\"Username\"\r\n                 variant=\"filled\"\r\n"
                },
                {
                    "date": 1740820359274,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState } from \"react\";\r\n-import { TextField, Button, InputAdornment, IconButton } from \"@mui/material\";\r\n+import { TextField, Button, InputAdornment, IconButton, Stack } from \"@mui/material\";\r\n import Swal from 'sweetalert2';\r\n import axios from \"axios\";\r\n import { Visibility, VisibilityOff } from \"@mui/icons-material\";\r\n \r\n@@ -37,9 +37,9 @@\n         }\r\n     };\r\n \r\n     return (\r\n-        <>\r\n+        <Stack spacing={2} sx={{ width: \"100%\", maxWidth: 400, mx: \"auto\", mt: 3 }}>\r\n             <TextField\r\n                 required\r\n                 label=\"Username\"\r\n                 variant=\"filled\"\r\n@@ -77,9 +77,9 @@\n                     )\r\n                 }}\r\n             />\r\n             <Button variant=\"contained\" onClick={handleSave}>Register</Button>\r\n-        </>\r\n+        </Stack>\r\n     );\r\n };\r\n \r\n export default Register;\r\n"
                },
                {
                    "date": 1740820431070,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n                 password,\r\n             });\r\n \r\n             Swal.fire(\"สำเร็จ\", res.data.message, \"success\");\r\n-            onClose();  // ปิด Modal หรือหน้า Register ถ้ามีการส่ง props นี้มา\r\n+            onClose();\r\n         } catch (err) {\r\n             Swal.fire(\"Error\", err.response?.data?.error || \"เกิดข้อผิดพลาด\", \"error\");\r\n         }\r\n     };\r\n"
                },
                {
                    "date": 1740820625938,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,13 +22,13 @@\n             return;\r\n         }\r\n \r\n         try {\r\n-            const res = await axios.post(\"http://localhost:5000/register\", {\r\n-                name,\r\n-                phone_number: phoneNumber,\r\n-                username,\r\n-                password,\r\n+            const res = await axios.post(\"http://localhost:5000/api/users/register\", { \r\n+                name, \r\n+                phone_number: phoneNumber, \r\n+                username, \r\n+                password \r\n             });\r\n \r\n             Swal.fire(\"สำเร็จ\", res.data.message, \"success\");\r\n             onClose();\r\n"
                },
                {
                    "date": 1740820762413,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,8 +21,12 @@\n             Swal.fire(\"Error\", \"Password ต้องมีอย่างน้อย 6 ตัวอักษร\", \"error\");\r\n             return;\r\n         }\r\n \r\n+        const newUser = {\r\n+            username=username, name=name, phone_number: phoneNumber, \r\n+        }\r\n+\r\n         try {\r\n             const res = await axios.post(\"http://localhost:5000/api/users/register\", { \r\n                 name, \r\n                 phone_number: phoneNumber, \r\n"
                },
                {
                    "date": 1740820797433,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,18 +22,15 @@\n             return;\r\n         }\r\n \r\n         const newUser = {\r\n-            username=username, name=name, phone_number: phoneNumber, \r\n+            username=username, name=name, phone_number: phoneNumber, password=password\r\n         }\r\n \r\n         try {\r\n-            const res = await axios.post(\"http://localhost:5000/api/users/register\", { \r\n-                name, \r\n-                phone_number: phoneNumber, \r\n-                username, \r\n-                password \r\n-            });\r\n+            axios.post('http://localhost:5000/api/users', newUser)\r\n+                .then()\r\n+                .catch(err => console.error('Failed to add user:', err));\r\n \r\n             Swal.fire(\"สำเร็จ\", res.data.message, \"success\");\r\n             onClose();\r\n         } catch (err) {\r\n"
                },
                {
                    "date": 1740820826494,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,11 +21,9 @@\n             Swal.fire(\"Error\", \"Password ต้องมีอย่างน้อย 6 ตัวอักษร\", \"error\");\r\n             return;\r\n         }\r\n \r\n-        const newUser = {\r\n-            username=username, name=name, phone_number: phoneNumber, password=password\r\n-        }\r\n+        const newUser = { username, name, phone_number: phoneNumber, password };\r\n \r\n         try {\r\n             axios.post('http://localhost:5000/api/users', newUser)\r\n                 .then()\r\n"
                },
                {
                    "date": 1740820835049,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,12 +24,9 @@\n \r\n         const newUser = { username, name, phone_number: phoneNumber, password };\r\n \r\n         try {\r\n-            axios.post('http://localhost:5000/api/users', newUser)\r\n-                .then()\r\n-                .catch(err => console.error('Failed to add user:', err));\r\n-\r\n+            const res = await axios.post('http://localhost:5000/api/users/register', newUser);\r\n             Swal.fire(\"สำเร็จ\", res.data.message, \"success\");\r\n             onClose();\r\n         } catch (err) {\r\n             Swal.fire(\"Error\", err.response?.data?.error || \"เกิดข้อผิดพลาด\", \"error\");\r\n"
                },
                {
                    "date": 1740821129865,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,9 +21,9 @@\n             Swal.fire(\"Error\", \"Password ต้องมีอย่างน้อย 6 ตัวอักษร\", \"error\");\r\n             return;\r\n         }\r\n \r\n-        const newUser = { username, name, phone_number: phoneNumber, password };\r\n+        const newUser = { username, name, phone_number: phoneNumber, password, role_id = \"1\" };\r\n \r\n         try {\r\n             const res = await axios.post('http://localhost:5000/api/users/register', newUser);\r\n             Swal.fire(\"สำเร็จ\", res.data.message, \"success\");\r\n"
                },
                {
                    "date": 1740821180160,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,9 +21,9 @@\n             Swal.fire(\"Error\", \"Password ต้องมีอย่างน้อย 6 ตัวอักษร\", \"error\");\r\n             return;\r\n         }\r\n \r\n-        const newUser = { username, name, phone_number: phoneNumber, password, role_id = \"1\" };\r\n+        const newUser = { username, name, phone_number: phoneNumber, password };\r\n \r\n         try {\r\n             const res = await axios.post('http://localhost:5000/api/users/register', newUser);\r\n             Swal.fire(\"สำเร็จ\", res.data.message, \"success\");\r\n"
                },
                {
                    "date": 1740821208578,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,9 +21,9 @@\n             Swal.fire(\"Error\", \"Password ต้องมีอย่างน้อย 6 ตัวอักษร\", \"error\");\r\n             return;\r\n         }\r\n \r\n-        const newUser = { username, name, phone_number: phoneNumber, password };\r\n+        const newUser = { username, name, phone_number: phoneNumber, password, role_id: \"1\" };\r\n \r\n         try {\r\n             const res = await axios.post('http://localhost:5000/api/users/register', newUser);\r\n             Swal.fire(\"สำเร็จ\", res.data.message, \"success\");\r\n"
                },
                {
                    "date": 1740821219493,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,9 +21,9 @@\n             Swal.fire(\"Error\", \"Password ต้องมีอย่างน้อย 6 ตัวอักษร\", \"error\");\r\n             return;\r\n         }\r\n \r\n-        const newUser = { username, name, phone_number: phoneNumber, password, role_id: \"1\" };\r\n+        const newUser = { username, name, phone_number: phoneNumber, password, };\r\n \r\n         try {\r\n             const res = await axios.post('http://localhost:5000/api/users/register', newUser);\r\n             Swal.fire(\"สำเร็จ\", res.data.message, \"success\");\r\n"
                },
                {
                    "date": 1740821319153,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,9 +21,9 @@\n             Swal.fire(\"Error\", \"Password ต้องมีอย่างน้อย 6 ตัวอักษร\", \"error\");\r\n             return;\r\n         }\r\n \r\n-        const newUser = { username, name, phone_number: phoneNumber, password, };\r\n+        const newUser = { username, name, phone_number: phoneNumber, password};\r\n \r\n         try {\r\n             const res = await axios.post('http://localhost:5000/api/users/register', newUser);\r\n             Swal.fire(\"สำเร็จ\", res.data.message, \"success\");\r\n"
                },
                {
                    "date": 1740821631483,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,24 +15,26 @@\n         if (!name || !phoneNumber || !username || !password) {\r\n             Swal.fire(\"Error\", \"กรุณากรอกข้อมูลให้ครบถ้วน\", \"error\");\r\n             return;\r\n         }\r\n-\r\n+    \r\n         if (password.length < 6) {\r\n             Swal.fire(\"Error\", \"Password ต้องมีอย่างน้อย 6 ตัวอักษร\", \"error\");\r\n             return;\r\n         }\r\n-\r\n-        const newUser = { username, name, phone_number: phoneNumber, password};\r\n-\r\n+    \r\n+        const newUser = { username, name, phone_number: phoneNumber, password };\r\n+    \r\n         try {\r\n             const res = await axios.post('http://localhost:5000/api/users/register', newUser);\r\n+            console.log(\"📥 Response จาก Backend:\", res.data); // 🔍 ตรวจสอบค่าที่ได้จาก Backend\r\n             Swal.fire(\"สำเร็จ\", res.data.message, \"success\");\r\n             onClose();\r\n         } catch (err) {\r\n+            console.error(\"🔥 Error:\", err.response?.data); // 🔍 ดู error ที่เกิดขึ้น\r\n             Swal.fire(\"Error\", err.response?.data?.error || \"เกิดข้อผิดพลาด\", \"error\");\r\n         }\r\n-    };\r\n+    };    \r\n \r\n     return (\r\n         <Stack spacing={2} sx={{ width: \"100%\", maxWidth: 400, mx: \"auto\", mt: 3 }}>\r\n             <TextField\r\n"
                },
                {
                    "date": 1740821638561,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,13 +25,11 @@\n         const newUser = { username, name, phone_number: phoneNumber, password };\r\n     \r\n         try {\r\n             const res = await axios.post('http://localhost:5000/api/users/register', newUser);\r\n-            console.log(\"📥 Response จาก Backend:\", res.data); // 🔍 ตรวจสอบค่าที่ได้จาก Backend\r\n             Swal.fire(\"สำเร็จ\", res.data.message, \"success\");\r\n             onClose();\r\n         } catch (err) {\r\n-            console.error(\"🔥 Error:\", err.response?.data); // 🔍 ดู error ที่เกิดขึ้น\r\n             Swal.fire(\"Error\", err.response?.data?.error || \"เกิดข้อผิดพลาด\", \"error\");\r\n         }\r\n     };    \r\n \r\n"
                },
                {
                    "date": 1740822507746,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n import Swal from 'sweetalert2';\r\n import axios from \"axios\";\r\n import { Visibility, VisibilityOff } from \"@mui/icons-material\";\r\n \r\n-const Register = ({ onClose }) => {\r\n+const Register = () => {\r\n     const [name, setName] = useState(\"\");\r\n     const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n     const [username, setUsername] = useState(\"\");\r\n     const [password, setPassword] = useState(\"\");\r\n@@ -26,9 +26,8 @@\n     \r\n         try {\r\n             const res = await axios.post('http://localhost:5000/api/users/register', newUser);\r\n             Swal.fire(\"สำเร็จ\", res.data.message, \"success\");\r\n-            onClose();\r\n         } catch (err) {\r\n             Swal.fire(\"Error\", err.response?.data?.error || \"เกิดข้อผิดพลาด\", \"error\");\r\n         }\r\n     };    \r\n"
                },
                {
                    "date": 1740822564963,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,6 @@\n import React, { useState } from \"react\";\r\n+import { useNavigate } from 'react-router-dom';\r\n import { TextField, Button, InputAdornment, IconButton, Stack } from \"@mui/material\";\r\n import Swal from 'sweetalert2';\r\n import axios from \"axios\";\r\n import { Visibility, VisibilityOff } from \"@mui/icons-material\";\r\n"
                },
                {
                    "date": 1740822580430,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,8 +27,9 @@\n     \r\n         try {\r\n             const res = await axios.post('http://localhost:5000/api/users/register', newUser);\r\n             Swal.fire(\"สำเร็จ\", res.data.message, \"success\");\r\n+            navigate('/');\r\n         } catch (err) {\r\n             Swal.fire(\"Error\", err.response?.data?.error || \"เกิดข้อผิดพลาด\", \"error\");\r\n         }\r\n     };    \r\n"
                },
                {
                    "date": 1740822591403,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,8 +5,9 @@\n import axios from \"axios\";\r\n import { Visibility, VisibilityOff } from \"@mui/icons-material\";\r\n \r\n const Register = () => {\r\n+    const navigate = useNavigate();\r\n     const [name, setName] = useState(\"\");\r\n     const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n     const [username, setUsername] = useState(\"\");\r\n     const [password, setPassword] = useState(\"\");\r\n"
                }
            ],
            "date": 1740819072514,
            "name": "Commit-0",
            "content": "import React from \"react\";"
        }
    ]
}