{
    "sourceFile": "FoodMood/src/pages/UserManager/assets/UserTable.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 39,
            "patches": [
                {
                    "date": 1740643138312,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1740643225224,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,19 +7,19 @@\n         { field: 'username', headerName: 'Username', width: 160, flex: 1 },\r\n         { field: 'name', headerName: 'ชื่อ', width: 130, flex: 2 },\r\n         { field: 'role_id', headerName: 'ตำแหน่ง', width: 100, flex: 2 },\r\n         { field: 'phone_number', headerName: 'เบอร์โทร', type: 'number', width: 140, flex: 1, align: 'left', headerAlign: 'left' },\r\n-        { \r\n-            field: 'orderStatus', \r\n-            headerName: 'สถานะออเดอร์', \r\n-            width: 140, \r\n-            flex: 1,\r\n-            renderCell: (params) => (\r\n-                <span className={params.value === 'เสร็จสิ้น' ? 'text-blue' : params.value === 'ยกเลิก' ? 'text-red' : ''}>\r\n-                    {params.value}\r\n-                </span>\r\n-            )\r\n-        }\r\n+        {\r\n+                    field: 'actions', headerName: 'Edit & Delete', flex: 1.1, width: 100,  sortable: false,\r\n+                    renderCell: (params) => (\r\n+                        <>\r\n+                            <button className=\"edit-btn\" onClick={() => onEdit(params.row)}>✏️</button>\r\n+                            <button className=\"edit-btn text-red\" onClick={() => handleClickConfirm(params.row)}>\r\n+                                <FaRegTrashAlt />\r\n+                            </button>\r\n+                        </>\r\n+                    )\r\n+                }\r\n     ];\r\n \r\n     return (\r\n         <table className=\"ingredient-table\">\r\n"
                },
                {
                    "date": 1740643240843,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,36 +21,20 @@\n                 }\r\n     ];\r\n \r\n     return (\r\n-        <table className=\"ingredient-table\">\r\n-            <thead>\r\n-                <tr>\r\n-                    <th>Username</th>\r\n-                    <th>ชื่อ</th>\r\n-                    <th>ตำแหน่ง</th>\r\n-                    <th>เบอร์โทร</th>\r\n-                    <th>Edit</th>\r\n-                    <th>delete</th>\r\n-                </tr>\r\n-            </thead>\r\n-            <tbody>\r\n-                {data.map((user,index) => (\r\n-                    <tr key={user.index}>\r\n-                        <td>{user.username}</td>\r\n-                        <td>{user.name}</td>\r\n-                        <td>{roleOptions.find(role => role._id === user.role_id)?.role_name }</td>\r\n-                        <td>{user.phone_number}</td>\r\n-                        <td>\r\n-                            <button className=\"edit-btn\" onClick={() => onEdit(user)}>✏️</button>\r\n-                        </td>\r\n-                        <td>\r\n-                            <button className=\"edit-btn text-red\" onClick={() => handleClickConfirm(user)}><FaRegTrashAlt /></button>\r\n-                        </td>\r\n-                    </tr>\r\n-                ))}\r\n-            </tbody>\r\n-        </table>\r\n-    );\r\n+            <div style={{ height: '83%', width: '100%' }}>\r\n+                <DataGrid\r\n+                    getRowId={(row) => row._id}     //เชื่อมกับ id ใน database ของเรา แต่ id ใน database เป็น _id\r\n+                    rows={data}\r\n+                    columns={columns}\r\n+                    pageSize={5}\r\n+                    rowsPerPageOptions={[5, 10, 20]}\r\n+                    sx={{ fontSize: 16, fontFamily: 'inherit' }}\r\n+                    disableSelectionOnClick\r\n+                    disableColumnMenu\r\n+                />\r\n+            </div>\r\n+        );\r\n };\r\n \r\n export default UserTable;\r\n"
                },
                {
                    "date": 1740643248446,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n import React from 'react';\r\n import {FaRegTrashAlt} from 'react-icons/fa';\r\n+import { DataGrid } from '@mui/x-data-grid';\r\n \r\n const UserTable = ({ data = [], onEdit, roleOptions, handleClickConfirm }) => {\r\n     \r\n     const columns = [\r\n"
                },
                {
                    "date": 1740643256015,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,9 @@\n \r\n const UserTable = ({ data = [], onEdit, roleOptions, handleClickConfirm }) => {\r\n     \r\n     const columns = [\r\n-        { field: 'username', headerName: 'Username', width: 160, flex: 1 },\r\n+        { field: 'username', headerName: 'Username', width: 160, flex:  },\r\n         { field: 'name', headerName: 'ชื่อ', width: 130, flex: 2 },\r\n         { field: 'role_id', headerName: 'ตำแหน่ง', width: 100, flex: 2 },\r\n         { field: 'phone_number', headerName: 'เบอร์โทร', type: 'number', width: 140, flex: 1, align: 'left', headerAlign: 'left' },\r\n         {\r\n"
                },
                {
                    "date": 1740643262071,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,9 @@\n \r\n const UserTable = ({ data = [], onEdit, roleOptions, handleClickConfirm }) => {\r\n     \r\n     const columns = [\r\n-        { field: 'username', headerName: 'Username', width: 160, flex:  },\r\n+        { field: 'username', headerName: 'Username', width: 160, flex: 2 },\r\n         { field: 'name', headerName: 'ชื่อ', width: 130, flex: 2 },\r\n         { field: 'role_id', headerName: 'ตำแหน่ง', width: 100, flex: 2 },\r\n         { field: 'phone_number', headerName: 'เบอร์โทร', type: 'number', width: 140, flex: 1, align: 'left', headerAlign: 'left' },\r\n         {\r\n"
                },
                {
                    "date": 1740643345184,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,9 +6,14 @@\n     \r\n     const columns = [\r\n         { field: 'username', headerName: 'Username', width: 160, flex: 2 },\r\n         { field: 'name', headerName: 'ชื่อ', width: 130, flex: 2 },\r\n-        { field: 'role_id', headerName: 'ตำแหน่ง', width: 100, flex: 2 },\r\n+        { \r\n+            field: 'role_id', \r\n+            headerName: 'ตำแหน่ง', \r\n+            flex: 2,\r\n+            valueGetter: (params) => roleOptions.find(role => role._id === params.value)?.role_name || 'ไม่พบตำแหน่ง'\r\n+        },\r\n         { field: 'phone_number', headerName: 'เบอร์โทร', type: 'number', width: 140, flex: 1, align: 'left', headerAlign: 'left' },\r\n         {\r\n                     field: 'actions', headerName: 'Edit & Delete', flex: 1.1, width: 100,  sortable: false,\r\n                     renderCell: (params) => (\r\n@@ -38,4 +43,6 @@\n         );\r\n };\r\n \r\n export default UserTable;\r\n+\r\n+<td>{roleOptions.find(role => role._id === user.role_id)?.role_name }</td>\r\n"
                },
                {
                    "date": 1740643380390,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,6 +43,4 @@\n         );\r\n };\r\n \r\n export default UserTable;\r\n-\r\n-<td>{roleOptions.find(role => role._id === user.role_id)?.role_name }</td>\r\n"
                },
                {
                    "date": 1740643445900,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,46 +1,57 @@\n import React from 'react';\r\n-import {FaRegTrashAlt} from 'react-icons/fa';\r\n+import { FaRegTrashAlt } from 'react-icons/fa';\r\n import { DataGrid } from '@mui/x-data-grid';\r\n \r\n const UserTable = ({ data = [], onEdit, roleOptions, handleClickConfirm }) => {\r\n     \r\n     const columns = [\r\n-        { field: 'username', headerName: 'Username', width: 160, flex: 2 },\r\n-        { field: 'name', headerName: 'ชื่อ', width: 130, flex: 2 },\r\n+        { field: 'username', headerName: 'Username', flex: 1, minWidth: 150 },\r\n+        { field: 'name', headerName: 'ชื่อ', flex: 1, minWidth: 130 },\r\n         { \r\n             field: 'role_id', \r\n             headerName: 'ตำแหน่ง', \r\n-            flex: 2,\r\n+            flex: 1, \r\n+            minWidth: 140,\r\n             valueGetter: (params) => roleOptions.find(role => role._id === params.value)?.role_name || 'ไม่พบตำแหน่ง'\r\n         },\r\n-        { field: 'phone_number', headerName: 'เบอร์โทร', type: 'number', width: 140, flex: 1, align: 'left', headerAlign: 'left' },\r\n+        { \r\n+            field: 'phone_number', \r\n+            headerName: 'เบอร์โทร', \r\n+            flex: 1, \r\n+            minWidth: 140, \r\n+            align: 'left', \r\n+            headerAlign: 'left' \r\n+        },\r\n         {\r\n-                    field: 'actions', headerName: 'Edit & Delete', flex: 1.1, width: 100,  sortable: false,\r\n-                    renderCell: (params) => (\r\n-                        <>\r\n-                            <button className=\"edit-btn\" onClick={() => onEdit(params.row)}>✏️</button>\r\n-                            <button className=\"edit-btn text-red\" onClick={() => handleClickConfirm(params.row)}>\r\n-                                <FaRegTrashAlt />\r\n-                            </button>\r\n-                        </>\r\n-                    )\r\n-                }\r\n+            field: 'actions', \r\n+            headerName: 'Edit & Delete', \r\n+            flex: 1, \r\n+            minWidth: 150, \r\n+            sortable: false,\r\n+            renderCell: (params) => (\r\n+                <>\r\n+                    <button className=\"edit-btn\" onClick={() => onEdit(params.row)}>✏️</button>\r\n+                    <button className=\"edit-btn text-red\" onClick={() => handleClickConfirm(params.row)}>\r\n+                        <FaRegTrashAlt />\r\n+                    </button>\r\n+                </>\r\n+            )\r\n+        }\r\n     ];\r\n \r\n     return (\r\n-            <div style={{ height: '83%', width: '100%' }}>\r\n-                <DataGrid\r\n-                    getRowId={(row) => row._id}     //เชื่อมกับ id ใน database ของเรา แต่ id ใน database เป็น _id\r\n-                    rows={data}\r\n-                    columns={columns}\r\n-                    pageSize={5}\r\n-                    rowsPerPageOptions={[5, 10, 20]}\r\n-                    sx={{ fontSize: 16, fontFamily: 'inherit' }}\r\n-                    disableSelectionOnClick\r\n-                    disableColumnMenu\r\n-                />\r\n-            </div>\r\n-        );\r\n+        <div style={{ height: '83vh', width: '100%' }}>\r\n+            <DataGrid\r\n+                getRowId={(row) => row._id}\r\n+                rows={data}\r\n+                columns={columns}\r\n+                autoPageSize  // ปรับขนาดตามข้อมูลอัตโนมัติ\r\n+                sx={{ fontSize: 16, fontFamily: 'inherit' }}\r\n+                disableSelectionOnClick\r\n+                disableColumnMenu\r\n+            />\r\n+        </div>\r\n+    );\r\n };\r\n \r\n export default UserTable;\r\n"
                },
                {
                    "date": 1740643801949,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,11 @@\n             field: 'role_id', \r\n             headerName: 'ตำแหน่ง', \r\n             flex: 1, \r\n             minWidth: 140,\r\n-            valueGetter: (params) => roleOptions.find(role => role._id === params.value)?.role_name || 'ไม่พบตำแหน่ง'\r\n+            valueGetter: (params) => {\r\n+                return roleOptions.find(role => String(role._id) === String(params.value))?.role_name || 'ไม่พบตำแหน่ง';\r\n+            }\r\n         },\r\n         { \r\n             field: 'phone_number', \r\n             headerName: 'เบอร์โทร', \r\n"
                },
                {
                    "date": 1740643835607,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,11 +11,10 @@\n             field: 'role_id', \r\n             headerName: 'ตำแหน่ง', \r\n             flex: 1, \r\n             minWidth: 140,\r\n-            valueGetter: (params) => {\r\n-                return roleOptions.find(role => String(role._id) === String(params.value))?.role_name || 'ไม่พบตำแหน่ง';\r\n-            }\r\n+            valueGetter: (params) => roleOptions.find(role => role._id === params.row.role_id)?.role_name || 'ไม่พบตำแหน่ง'\r\n+\r\n         },\r\n         { \r\n             field: 'phone_number', \r\n             headerName: 'เบอร์โทร', \r\n"
                },
                {
                    "date": 1740643865490,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,10 +11,13 @@\n             field: 'role_id', \r\n             headerName: 'ตำแหน่ง', \r\n             flex: 1, \r\n             minWidth: 140,\r\n-            valueGetter: (params) => roleOptions.find(role => role._id === params.row.role_id)?.role_name || 'ไม่พบตำแหน่ง'\r\n-\r\n+            valueGetter: (params) => {\r\n+                if (!params.row || !params.row.role_id) return 'ไม่พบตำแหน่ง'; // ป้องกัน undefined\r\n+                return roleOptions.find(role => role._id === params.row.role_id)?.role_name || 'ไม่พบตำแหน่ง';\r\n+            }\r\n+            \r\n         },\r\n         { \r\n             field: 'phone_number', \r\n             headerName: 'เบอร์โทร', \r\n"
                },
                {
                    "date": 1740643890775,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,12 +12,13 @@\n             headerName: 'ตำแหน่ง', \r\n             flex: 1, \r\n             minWidth: 140,\r\n             valueGetter: (params) => {\r\n+                console.log(\"role_id:\", params.value);\r\n+    console.log(\"roleOptions:\", roleOptions);\r\n                 if (!params.row || !params.row.role_id) return 'ไม่พบตำแหน่ง'; // ป้องกัน undefined\r\n                 return roleOptions.find(role => role._id === params.row.role_id)?.role_name || 'ไม่พบตำแหน่ง';\r\n-            }\r\n-            \r\n+            }            \r\n         },\r\n         { \r\n             field: 'phone_number', \r\n             headerName: 'เบอร์โทร', \r\n"
                },
                {
                    "date": 1740643946884,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,13 +12,12 @@\n             headerName: 'ตำแหน่ง', \r\n             flex: 1, \r\n             minWidth: 140,\r\n             valueGetter: (params) => {\r\n-                console.log(\"role_id:\", params.value);\r\n-    console.log(\"roleOptions:\", roleOptions);\r\n-                if (!params.row || !params.row.role_id) return 'ไม่พบตำแหน่ง'; // ป้องกัน undefined\r\n-                return roleOptions.find(role => role._id === params.row.role_id)?.role_name || 'ไม่พบตำแหน่ง';\r\n-            }            \r\n+                console.log(params.row); // ตรวจสอบค่า params.row\r\n+                return roleOptions.find(role => role._id === params.row?.role_id)?.role_name || 'ไม่พบตำแหน่ง';\r\n+            }\r\n+                   \r\n         },\r\n         { \r\n             field: 'phone_number', \r\n             headerName: 'เบอร์โทร', \r\n"
                },
                {
                    "date": 1740643959318,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,10 +14,9 @@\n             minWidth: 140,\r\n             valueGetter: (params) => {\r\n                 console.log(params.row); // ตรวจสอบค่า params.row\r\n                 return roleOptions.find(role => role._id === params.row?.role_id)?.role_name || 'ไม่พบตำแหน่ง';\r\n-            }\r\n-                   \r\n+            }                   \r\n         },\r\n         { \r\n             field: 'phone_number', \r\n             headerName: 'เบอร์โทร', \r\n"
                },
                {
                    "date": 1740644008586,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,11 +12,12 @@\n             headerName: 'ตำแหน่ง', \r\n             flex: 1, \r\n             minWidth: 140,\r\n             valueGetter: (params) => {\r\n-                console.log(params.row); // ตรวจสอบค่า params.row\r\n-                return roleOptions.find(role => role._id === params.row?.role_id)?.role_name || 'ไม่พบตำแหน่ง';\r\n-            }                   \r\n+                if (!params.row || !params.row.role_id) return 'ไม่พบตำแหน่ง'; // กันค่า undefined\r\n+                return roleOptions.find(role => role._id === params.row.role_id)?.role_name || 'ไม่พบตำแหน่ง';\r\n+            }\r\n+                            \r\n         },\r\n         { \r\n             field: 'phone_number', \r\n             headerName: 'เบอร์โทร', \r\n"
                },
                {
                    "date": 1740644020542,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,13 +11,9 @@\n             field: 'role_id', \r\n             headerName: 'ตำแหน่ง', \r\n             flex: 1, \r\n             minWidth: 140,\r\n-            valueGetter: (params) => {\r\n-                if (!params.row || !params.row.role_id) return 'ไม่พบตำแหน่ง'; // กันค่า undefined\r\n-                return roleOptions.find(role => role._id === params.row.role_id)?.role_name || 'ไม่พบตำแหน่ง';\r\n-            }\r\n-                            \r\n+        \r\n         },\r\n         { \r\n             field: 'phone_number', \r\n             headerName: 'เบอร์โทร', \r\n"
                },
                {
                    "date": 1740644034110,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,10 +10,9 @@\n         { \r\n             field: 'role_id', \r\n             headerName: 'ตำแหน่ง', \r\n             flex: 1, \r\n-            minWidth: 140,\r\n-        \r\n+            minWidth: 140,        \r\n         },\r\n         { \r\n             field: 'phone_number', \r\n             headerName: 'เบอร์โทร', \r\n"
                },
                {
                    "date": 1740646302487,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,13 @@\n         { \r\n             field: 'role_id', \r\n             headerName: 'ตำแหน่ง', \r\n             flex: 1, \r\n-            minWidth: 140,        \r\n+            minWidth: 140,  \r\n+            valueGetter: (params) => {\r\n+                const role = roleOptions.find(role => role._id === params.value);\r\n+                return role ? role.role_name : 'ไม่ทราบตำแหน่ง';\r\n+            }\r\n         },\r\n         { \r\n             field: 'phone_number', \r\n             headerName: 'เบอร์โทร', \r\n"
                },
                {
                    "date": 1740646358239,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,9 +12,9 @@\n             headerName: 'ตำแหน่ง', \r\n             flex: 1, \r\n             minWidth: 140,  \r\n             valueGetter: (params) => {\r\n-                const role = roleOptions.find(role => role._id === params.value);\r\n+                const role = roleOptions.find(role => String(role._id) === String(params.value));\r\n                 return role ? role.role_name : 'ไม่ทราบตำแหน่ง';\r\n             }\r\n         },\r\n         { \r\n"
                },
                {
                    "date": 1740646398827,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,11 +12,17 @@\n             headerName: 'ตำแหน่ง', \r\n             flex: 1, \r\n             minWidth: 140,  \r\n             valueGetter: (params) => {\r\n+                console.log('role_id:', params.value);\r\n+                console.log('roleOptions:', roleOptions);\r\n+            \r\n                 const role = roleOptions.find(role => String(role._id) === String(params.value));\r\n+                console.log('Matched role:', role);\r\n+                \r\n                 return role ? role.role_name : 'ไม่ทราบตำแหน่ง';\r\n             }\r\n+            \r\n         },\r\n         { \r\n             field: 'phone_number', \r\n             headerName: 'เบอร์โทร', \r\n"
                },
                {
                    "date": 1740646466138,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,8 +12,9 @@\n             headerName: 'ตำแหน่ง', \r\n             flex: 1, \r\n             minWidth: 140,  \r\n             valueGetter: (params) => {\r\n+                console.log('User data:', data);\r\n                 console.log('role_id:', params.value);\r\n                 console.log('roleOptions:', roleOptions);\r\n             \r\n                 const role = roleOptions.find(role => String(role._id) === String(params.value));\r\n"
                },
                {
                    "date": 1740646543093,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,27 +3,22 @@\n import { DataGrid } from '@mui/x-data-grid';\r\n \r\n const UserTable = ({ data = [], onEdit, roleOptions, handleClickConfirm }) => {\r\n     \r\n+    const getRoleName = (roleId) => {\r\n+        const role = roleOptions.find(r => r._id === roleId);\r\n+        return role ? role.role_name : 'ไม่ทราบตำแหน่ง';\r\n+    };\r\n+\r\n     const columns = [\r\n         { field: 'username', headerName: 'Username', flex: 1, minWidth: 150 },\r\n         { field: 'name', headerName: 'ชื่อ', flex: 1, minWidth: 130 },\r\n         { \r\n             field: 'role_id', \r\n             headerName: 'ตำแหน่ง', \r\n             flex: 1, \r\n             minWidth: 140,  \r\n-            valueGetter: (params) => {\r\n-                console.log('User data:', data);\r\n-                console.log('role_id:', params.value);\r\n-                console.log('roleOptions:', roleOptions);\r\n-            \r\n-                const role = roleOptions.find(role => String(role._id) === String(params.value));\r\n-                console.log('Matched role:', role);\r\n-                \r\n-                return role ? role.role_name : 'ไม่ทราบตำแหน่ง';\r\n-            }\r\n-            \r\n+            valueGetter: (params) => getRoleName(params.value)\r\n         },\r\n         { \r\n             field: 'phone_number', \r\n             headerName: 'เบอร์โทร', \r\n"
                },
                {
                    "date": 1740646602128,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,8 +8,11 @@\n         const role = roleOptions.find(r => r._id === roleId);\r\n         return role ? role.role_name : 'ไม่ทราบตำแหน่ง';\r\n     };\r\n \r\n+    console.log(\"roleOptions:\", roleOptions);\r\n+\r\n+\r\n     const columns = [\r\n         { field: 'username', headerName: 'Username', flex: 1, minWidth: 150 },\r\n         { field: 'name', headerName: 'ชื่อ', flex: 1, minWidth: 130 },\r\n         { \r\n"
                },
                {
                    "date": 1740646616437,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,12 +4,13 @@\n \r\n const UserTable = ({ data = [], onEdit, roleOptions, handleClickConfirm }) => {\r\n     \r\n     const getRoleName = (roleId) => {\r\n+        console.log(\"Mapping role_id:\", roleId); // 🔥 Debug ตรงนี้\r\n         const role = roleOptions.find(r => r._id === roleId);\r\n+        console.log(\"Found role:\", role); // 🔥 Debug ตรงนี้\r\n         return role ? role.role_name : 'ไม่ทราบตำแหน่ง';\r\n     };\r\n-\r\n     console.log(\"roleOptions:\", roleOptions);\r\n \r\n \r\n     const columns = [\r\n"
                },
                {
                    "date": 1740646677136,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,14 +4,17 @@\n \r\n const UserTable = ({ data = [], onEdit, roleOptions, handleClickConfirm }) => {\r\n     \r\n     const getRoleName = (roleId) => {\r\n-        console.log(\"Mapping role_id:\", roleId); // 🔥 Debug ตรงนี้\r\n-        const role = roleOptions.find(r => r._id === roleId);\r\n-        console.log(\"Found role:\", role); // 🔥 Debug ตรงนี้\r\n+        console.log(\"Mapping role_id:\", roleId); // Debug\r\n+    \r\n+        // แปลง roleId ให้เป็น string (ป้องกัน Type ไม่ตรง)\r\n+        const role = roleOptions.find(r => String(r._id) === String(roleId));\r\n+    \r\n+        console.log(\"Found role:\", role); // Debug\r\n         return role ? role.role_name : 'ไม่ทราบตำแหน่ง';\r\n     };\r\n-    console.log(\"roleOptions:\", roleOptions);\r\n+    \r\n \r\n \r\n     const columns = [\r\n         { field: 'username', headerName: 'Username', flex: 1, minWidth: 150 },\r\n"
                },
                {
                    "date": 1740646714189,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,15 +4,9 @@\n \r\n const UserTable = ({ data = [], onEdit, roleOptions, handleClickConfirm }) => {\r\n     \r\n     const getRoleName = (roleId) => {\r\n-        console.log(\"Mapping role_id:\", roleId); // Debug\r\n-    \r\n-        // แปลง roleId ให้เป็น string (ป้องกัน Type ไม่ตรง)\r\n-        const role = roleOptions.find(r => String(r._id) === String(roleId));\r\n-    \r\n-        console.log(\"Found role:\", role); // Debug\r\n-        return role ? role.role_name : 'ไม่ทราบตำแหน่ง';\r\n+        console.log(roleOptions)\r\n     };\r\n     \r\n \r\n \r\n"
                },
                {
                    "date": 1740646770534,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,10 @@\n \r\n const UserTable = ({ data = [], onEdit, roleOptions, handleClickConfirm }) => {\r\n     \r\n     const getRoleName = (roleId) => {\r\n-        console.log(roleOptions)\r\n+        console.log(\"Role ที่มีในระบบ\", roleOptions)\r\n+        console.log(\"ข้อมูลของ User\", data)\r\n     };\r\n     \r\n \r\n \r\n"
                },
                {
                    "date": 1740646855584,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,10 +6,14 @@\n     \r\n     const getRoleName = (roleId) => {\r\n         console.log(\"Role ที่มีในระบบ\", roleOptions)\r\n         console.log(\"ข้อมูลของ User\", data)\r\n+\r\n+        // หา role ที่ตรงกับ roleId\r\n+    const role = roleOptions.find(r => String(r._id) === String(roleId));\r\n+\r\n+    console.log(\"Found role:\", role); // Debug\r\n     };\r\n-    \r\n \r\n \r\n     const columns = [\r\n         { field: 'username', headerName: 'Username', flex: 1, minWidth: 150 },\r\n"
                },
                {
                    "date": 1740646890567,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,43 +2,42 @@\n import { FaRegTrashAlt } from 'react-icons/fa';\r\n import { DataGrid } from '@mui/x-data-grid';\r\n \r\n const UserTable = ({ data = [], onEdit, roleOptions, handleClickConfirm }) => {\r\n-    \r\n+\r\n     const getRoleName = (roleId) => {\r\n         console.log(\"Role ที่มีในระบบ\", roleOptions)\r\n         console.log(\"ข้อมูลของ User\", data)\r\n \r\n-        // หา role ที่ตรงกับ roleId\r\n-    const role = roleOptions.find(r => String(r._id) === String(roleId));\r\n+        console.log(\"🔍 Role Options:\", JSON.stringify(roleOptions, null, 2));\r\n+console.log(\"🔍 role_id ที่หา:\", roleId);\r\n \r\n-    console.log(\"Found role:\", role); // Debug\r\n     };\r\n \r\n \r\n     const columns = [\r\n         { field: 'username', headerName: 'Username', flex: 1, minWidth: 150 },\r\n         { field: 'name', headerName: 'ชื่อ', flex: 1, minWidth: 130 },\r\n-        { \r\n-            field: 'role_id', \r\n-            headerName: 'ตำแหน่ง', \r\n-            flex: 1, \r\n-            minWidth: 140,  \r\n+        {\r\n+            field: 'role_id',\r\n+            headerName: 'ตำแหน่ง',\r\n+            flex: 1,\r\n+            minWidth: 140,\r\n             valueGetter: (params) => getRoleName(params.value)\r\n         },\r\n-        { \r\n-            field: 'phone_number', \r\n-            headerName: 'เบอร์โทร', \r\n-            flex: 1, \r\n-            minWidth: 140, \r\n-            align: 'left', \r\n-            headerAlign: 'left' \r\n+        {\r\n+            field: 'phone_number',\r\n+            headerName: 'เบอร์โทร',\r\n+            flex: 1,\r\n+            minWidth: 140,\r\n+            align: 'left',\r\n+            headerAlign: 'left'\r\n         },\r\n         {\r\n-            field: 'actions', \r\n-            headerName: 'Edit & Delete', \r\n-            flex: 1, \r\n-            minWidth: 150, \r\n+            field: 'actions',\r\n+            headerName: 'Edit & Delete',\r\n+            flex: 1,\r\n+            minWidth: 150,\r\n             sortable: false,\r\n             renderCell: (params) => (\r\n                 <>\r\n                     <button className=\"edit-btn\" onClick={() => onEdit(params.row)}>✏️</button>\r\n"
                },
                {
                    "date": 1740646902477,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,11 +7,8 @@\n     const getRoleName = (roleId) => {\r\n         console.log(\"Role ที่มีในระบบ\", roleOptions)\r\n         console.log(\"ข้อมูลของ User\", data)\r\n \r\n-        console.log(\"🔍 Role Options:\", JSON.stringify(roleOptions, null, 2));\r\n-console.log(\"🔍 role_id ที่หา:\", roleId);\r\n-\r\n     };\r\n \r\n \r\n     const columns = [\r\n"
                },
                {
                    "date": 1740740384686,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -51,12 +51,12 @@\n             <DataGrid\r\n                 getRowId={(row) => row._id}\r\n                 rows={data}\r\n                 columns={columns}\r\n-                autoPageSize  // ปรับขนาดตามข้อมูลอัตโนมัติ\r\n                 sx={{ fontSize: 16, fontFamily: 'inherit' }}\r\n                 disableSelectionOnClick\r\n                 disableColumnMenu\r\n+                autoPageSize\r\n             />\r\n         </div>\r\n     );\r\n };\r\n"
                },
                {
                    "date": 1740742299954,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,8 +9,12 @@\n         console.log(\"ข้อมูลของ User\", data)\r\n \r\n     };\r\n \r\n+    const filteredData = data.filter(user => \r\n+        user.name.toLowerCase().includes(searchQuery.toLowerCase())\r\n+    );\r\n+    \r\n \r\n     const columns = [\r\n         { field: 'username', headerName: 'Username', flex: 1, minWidth: 150 },\r\n         { field: 'name', headerName: 'ชื่อ', flex: 1, minWidth: 130 },\r\n"
                },
                {
                    "date": 1740742310473,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,11 +9,8 @@\n         console.log(\"ข้อมูลของ User\", data)\r\n \r\n     };\r\n \r\n-    const filteredData = data.filter(user => \r\n-        user.name.toLowerCase().includes(searchQuery.toLowerCase())\r\n-    );\r\n     \r\n \r\n     const columns = [\r\n         { field: 'username', headerName: 'Username', flex: 1, minWidth: 150 },\r\n"
                },
                {
                    "date": 1740817959743,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,10 +9,8 @@\n         console.log(\"ข้อมูลของ User\", data)\r\n \r\n     };\r\n \r\n-    \r\n-\r\n     const columns = [\r\n         { field: 'username', headerName: 'Username', flex: 1, minWidth: 150 },\r\n         { field: 'name', headerName: 'ชื่อ', flex: 1, minWidth: 130 },\r\n         {\r\n"
                },
                {
                    "date": 1740818106235,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,10 +4,9 @@\n \r\n const UserTable = ({ data = [], onEdit, roleOptions, handleClickConfirm }) => {\r\n \r\n     const getRoleName = (roleId) => {\r\n-        console.log(\"Role ที่มีในระบบ\", roleOptions)\r\n-        console.log(\"ข้อมูลของ User\", data)\r\n+       \r\n \r\n     };\r\n \r\n     const columns = [\r\n"
                },
                {
                    "date": 1740818955104,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,9 +12,9 @@\n     const columns = [\r\n         { field: 'username', headerName: 'Username', flex: 1, minWidth: 150 },\r\n         { field: 'name', headerName: 'ชื่อ', flex: 1, minWidth: 130 },\r\n         {\r\n-            field: 'role_id',\r\n+            field: 'role_name',\r\n             headerName: 'ตำแหน่ง',\r\n             flex: 1,\r\n             minWidth: 140,\r\n             valueGetter: (params) => getRoleName(params.value)\r\n"
                },
                {
                    "date": 1740819007074,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,10 +15,9 @@\n         {\r\n             field: 'role_name',\r\n             headerName: 'ตำแหน่ง',\r\n             flex: 1,\r\n-            minWidth: 140,\r\n-            valueGetter: (params) => getRoleName(params.value)\r\n+            minWidth: 140\r\n         },\r\n         {\r\n             field: 'phone_number',\r\n             headerName: 'เบอร์โทร',\r\n"
                },
                {
                    "date": 1740819022070,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,13 +3,8 @@\n import { DataGrid } from '@mui/x-data-grid';\r\n \r\n const UserTable = ({ data = [], onEdit, roleOptions, handleClickConfirm }) => {\r\n \r\n-    const getRoleName = (roleId) => {\r\n-       \r\n-\r\n-    };\r\n-\r\n     const columns = [\r\n         { field: 'username', headerName: 'Username', flex: 1, minWidth: 150 },\r\n         { field: 'name', headerName: 'ชื่อ', flex: 1, minWidth: 130 },\r\n         {\r\n"
                },
                {
                    "date": 1740824101294,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n import React from 'react';\r\n import { FaRegTrashAlt } from 'react-icons/fa';\r\n import { DataGrid } from '@mui/x-data-grid';\r\n \r\n-const UserTable = ({ data = [], onEdit, roleOptions, handleClickConfirm }) => {\r\n+const UserTable = ({ data = [], onEdit, onClick }) => {\r\n \r\n     const columns = [\r\n         { field: 'username', headerName: 'Username', flex: 1, minWidth: 150 },\r\n         { field: 'name', headerName: 'ชื่อ', flex: 1, minWidth: 130 },\r\n@@ -29,9 +29,9 @@\n             sortable: false,\r\n             renderCell: (params) => (\r\n                 <>\r\n                     <button className=\"edit-btn\" onClick={() => onEdit(params.row)}>✏️</button>\r\n-                    <button className=\"edit-btn text-red\" onClick={() => handleClickConfirm(params.row)}>\r\n+                    <button className=\"edit-btn text-red\" onClick={() => onClick(params.row)}>\r\n                         <FaRegTrashAlt />\r\n                     </button>\r\n                 </>\r\n             )\r\n"
                }
            ],
            "date": 1740643138312,
            "name": "Commit-0",
            "content": "import React from 'react';\r\nimport {FaRegTrashAlt} from 'react-icons/fa';\r\n\r\nconst UserTable = ({ data = [], onEdit, roleOptions, handleClickConfirm }) => {\r\n    \r\n    const columns = [\r\n        { field: 'username', headerName: 'Username', width: 160, flex: 1 },\r\n        { field: 'name', headerName: 'ชื่อ', width: 130, flex: 2 },\r\n        { field: 'role_id', headerName: 'ตำแหน่ง', width: 100, flex: 2 },\r\n        { field: 'phone_number', headerName: 'เบอร์โทร', type: 'number', width: 140, flex: 1, align: 'left', headerAlign: 'left' },\r\n        { \r\n            field: 'orderStatus', \r\n            headerName: 'สถานะออเดอร์', \r\n            width: 140, \r\n            flex: 1,\r\n            renderCell: (params) => (\r\n                <span className={params.value === 'เสร็จสิ้น' ? 'text-blue' : params.value === 'ยกเลิก' ? 'text-red' : ''}>\r\n                    {params.value}\r\n                </span>\r\n            )\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <table className=\"ingredient-table\">\r\n            <thead>\r\n                <tr>\r\n                    <th>Username</th>\r\n                    <th>ชื่อ</th>\r\n                    <th>ตำแหน่ง</th>\r\n                    <th>เบอร์โทร</th>\r\n                    <th>Edit</th>\r\n                    <th>delete</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {data.map((user,index) => (\r\n                    <tr key={user.index}>\r\n                        <td>{user.username}</td>\r\n                        <td>{user.name}</td>\r\n                        <td>{roleOptions.find(role => role._id === user.role_id)?.role_name }</td>\r\n                        <td>{user.phone_number}</td>\r\n                        <td>\r\n                            <button className=\"edit-btn\" onClick={() => onEdit(user)}>✏️</button>\r\n                        </td>\r\n                        <td>\r\n                            <button className=\"edit-btn text-red\" onClick={() => handleClickConfirm(user)}><FaRegTrashAlt /></button>\r\n                        </td>\r\n                    </tr>\r\n                ))}\r\n            </tbody>\r\n        </table>\r\n    );\r\n};\r\n\r\nexport default UserTable;\r\n"
        }
    ]
}