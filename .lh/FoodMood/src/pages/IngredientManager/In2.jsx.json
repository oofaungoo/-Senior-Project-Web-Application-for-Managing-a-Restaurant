{
    "sourceFile": "FoodMood/src/pages/IngredientManager/In2.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 41,
            "patches": [
                {
                    "date": 1740378845222,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1740603997679,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -134,9 +134,20 @@\n \r\n \r\n     return (\r\n         <>\r\n-            <div className=\"middle-box\">\r\n+            {/* Box ของ MenuList */}\r\n+            <Box\r\n+                sx={{\r\n+                    backgroundColor: \"#fff\",\r\n+                    width: isMobile ? \"100%\" : isTablet ? \"65%\" : \"75%\",\r\n+                    height: \"100vh\",\r\n+                    padding: \"20px\",\r\n+                    borderRadius: \"8px\",\r\n+                    overflowY: \"auto\",\r\n+                    marginRight: \"10px\",\r\n+                }}\r\n+            >\r\n                 <div class='inline-elements'>\r\n                     <input\r\n                         type=\"text\"\r\n                         placeholder=\"ค้นหาวัตถุดิบ\"\r\n@@ -155,18 +166,11 @@\n                     <button className=\"blue-button\" onClick={handleAddNewData}>\r\n                         เพิ่มวัตถุดิบใหม่\r\n                     </button>\r\n                 </div>\r\n-\r\n                 <IngredientTable data={paginatedIngredients} onEdit={handleEditData} handleClickConfirm={handleClickConfirm} />\r\n+            </Box>\r\n \r\n-                {/* <div className=\"pagination text-black\">\r\n-                    {currentPage > 1 && <button onClick={handleBeforePage} className='text-black'><HiChevronLeft /></button>}\r\n-                    <span>หน้าที่ {currentPage} จาก {totalPages}</span>\r\n-                    {currentPage < totalPages && <button onClick={handleNextPage} className='text-black'><HiChevronRight /></button>}\r\n-                </div> */}\r\n-            </div>\r\n-\r\n             {showEditData &&\r\n                 <AddIngredient\r\n                     data={dataToEdit}\r\n                     isEditing={isEditing}\r\n"
                },
                {
                    "date": 1740604017505,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,16 @@\n import React, { useState, useEffect } from 'react';\r\n-import { HiChevronRight, HiChevronLeft } from \"react-icons/hi2\";\r\n+import { Box, Modal, useMediaQuery } from \"@mui/material\";\r\n import AddIngredient from './assets/AddIngredient';\r\n import './IngredientManager.css';\r\n import IngredientTable from './assets/IngredientTable';\r\n import axios from 'axios';\r\n import Swal from 'sweetalert2';\r\n \r\n const IngredientManager = () => {\r\n+    const isMobile = useMediaQuery(\"(max-width: 767px)\");\r\n+    const isTablet = useMediaQuery(\"(min-width: 768px) and (max-width: 1040px)\");\r\n+\r\n     const [data, setData] = useState([]);   // Collecting datas from API\r\n     const [showEditData, setShowEditData] = useState(false);    // show AddIngredient.jsx\r\n     const [dataToEdit, setDataToEdit] = useState(null); // Edit data\r\n     const [isEditing, setIsEditing] = useState(false);  // Add & Edit data (mode toggle)\r\n"
                },
                {
                    "date": 1740604205519,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -148,17 +148,28 @@\n                     borderRadius: \"8px\",\r\n                     overflowY: \"auto\",\r\n                     marginRight: \"10px\",\r\n                 }}\r\n-            >\r\n+            >   \r\n+                <Grid container>\r\n+                {/* Search Bar & Filters */}\r\n+                <input type=\"text\" placeholder=\"ค้นหาวัตถุดิบ\" value={search} onChange={handleSearch} />\r\n+                <Grid item xs={12} style={{margin:\"8px 0 8px\"}}>\r\n+                    <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\r\n+                        {category.map((cat) => (\r\n+                            <div\r\n+                                key={cat._id}\r\n+                                className={`filter-bubble ${categoryFilter === cat.name ? 'active' : ''}`}\r\n+                                onClick={() => setCategoryFilter(categoryFilter === cat.name ? '' : cat.name)}\r\n+                            >\r\n+                                {cat.name}\r\n+                            </div>\r\n+                        ))}\r\n+                    </div>\r\n+                </Grid>\r\n+            </Grid>\r\n+\r\n                 <div class='inline-elements'>\r\n-                    <input\r\n-                        type=\"text\"\r\n-                        placeholder=\"ค้นหาวัตถุดิบ\"\r\n-                        className=\"search-bar\"\r\n-                        onChange={handleSearch}\r\n-                        value={search}\r\n-                    />\r\n                     <select className=\"category-filter\" onChange={handleCategoryFilter} value={categoryFilter} style={{ marginTop: \"10px\" }}>\r\n                         <option value=\"\">หมวดหมู่</option>\r\n                         <option value=\"เนื้อสัตว์\">เนื้อสัตว์</option>\r\n                         <option value=\"ผัก\">ผัก</option>\r\n"
                },
                {
                    "date": 1740604213636,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState, useEffect } from 'react';\r\n-import { Box, Modal, useMediaQuery } from \"@mui/material\";\r\n+import { Grid, Box, Modal, useMediaQuery } from \"@mui/material\";\r\n import AddIngredient from './assets/AddIngredient';\r\n import './IngredientManager.css';\r\n import IngredientTable from './assets/IngredientTable';\r\n import axios from 'axios';\r\n"
                },
                {
                    "date": 1740604274805,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -148,35 +148,35 @@\n                     borderRadius: \"8px\",\r\n                     overflowY: \"auto\",\r\n                     marginRight: \"10px\",\r\n                 }}\r\n-            >   \r\n+            >\r\n                 <Grid container>\r\n-                {/* Search Bar & Filters */}\r\n-                <input type=\"text\" placeholder=\"ค้นหาวัตถุดิบ\" value={search} onChange={handleSearch} />\r\n-                <Grid item xs={12} style={{margin:\"8px 0 8px\"}}>\r\n-                    <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\r\n-                        {category.map((cat) => (\r\n-                            <div\r\n-                                key={cat._id}\r\n-                                className={`filter-bubble ${categoryFilter === cat.name ? 'active' : ''}`}\r\n-                                onClick={() => setCategoryFilter(categoryFilter === cat.name ? '' : cat.name)}\r\n-                            >\r\n-                                {cat.name}\r\n-                            </div>\r\n-                        ))}\r\n-                    </div>\r\n+                    {/* Search Bar & Filters */}\r\n+                    <input type=\"text\" placeholder=\"ค้นหาวัตถุดิบ\" value={search} onChange={handleSearch} />\r\n+                    <Grid item xs={12} style={{ margin: \"8px 0 8px\" }}>\r\n+                        <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\r\n+                            {category.map((cat) => (\r\n+                                <div\r\n+                                    key={cat._id}\r\n+                                    className={`filter-bubble ${categoryFilter === cat.name ? 'active' : ''}`}\r\n+                                    onClick={() => setCategoryFilter(categoryFilter === cat.name ? '' : cat.name)}\r\n+                                >\r\n+                                    {cat.name}\r\n+                                </div>\r\n+                            ))}\r\n+                        </div>\r\n+                    </Grid>\r\n                 </Grid>\r\n-            </Grid>\r\n \r\n                 <div class='inline-elements'>\r\n                     <select className=\"category-filter\" onChange={handleCategoryFilter} value={categoryFilter} style={{ marginTop: \"10px\" }}>\r\n-                        <option value=\"\">หมวดหมู่</option>\r\n+                        <option value=\"\">-- เลือกหมวดหมู่ (Category) --</option>\r\n                         <option value=\"เนื้อสัตว์\">เนื้อสัตว์</option>\r\n                         <option value=\"ผัก\">ผัก</option>\r\n                         <option value=\"ทะเล\">ทะเล</option>\r\n                         <option value=\"เครื่องดื่ม\">เครื่องดื่ม</option>\r\n-                        <option value=\"ของหวาน\">ของหวาน</option>\r\n+                        <option value=\"ผลไม้\">ผลไม้</option>\r\n                     </select>\r\n                     <button className=\"blue-button\" onClick={handleAddNewData}>\r\n                         เพิ่มวัตถุดิบใหม่\r\n                     </button>\r\n"
                },
                {
                    "date": 1740604280964,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -169,9 +169,9 @@\n                 </Grid>\r\n \r\n                 <div class='inline-elements'>\r\n                     <select className=\"category-filter\" onChange={handleCategoryFilter} value={categoryFilter} style={{ marginTop: \"10px\" }}>\r\n-                        <option value=\"\">-- เลือกหมวดหมู่ (Category) --</option>\r\n+                        <option value=\"\">ทั้งหมด</option>\r\n                         <option value=\"เนื้อสัตว์\">เนื้อสัตว์</option>\r\n                         <option value=\"ผัก\">ผัก</option>\r\n                         <option value=\"ทะเล\">ทะเล</option>\r\n                         <option value=\"เครื่องดื่ม\">เครื่องดื่ม</option>\r\n"
                },
                {
                    "date": 1740604391927,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -152,36 +152,33 @@\n             >\r\n                 <Grid container>\r\n                     {/* Search Bar & Filters */}\r\n                     <input type=\"text\" placeholder=\"ค้นหาวัตถุดิบ\" value={search} onChange={handleSearch} />\r\n-                    <Grid item xs={12} style={{ margin: \"8px 0 8px\" }}>\r\n-                        <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\r\n-                            {category.map((cat) => (\r\n-                                <div\r\n-                                    key={cat._id}\r\n-                                    className={`filter-bubble ${categoryFilter === cat.name ? 'active' : ''}`}\r\n-                                    onClick={() => setCategoryFilter(categoryFilter === cat.name ? '' : cat.name)}\r\n-                                >\r\n-                                    {cat.name}\r\n-                                </div>\r\n-                            ))}\r\n-                        </div>\r\n+                    {/* Dropdown Filter */}\r\n+                    <Grid item xs={12} sm={6} md={2}>\r\n+                        <select\r\n+                            className=\"category-filter\"\r\n+                            onChange={handleCategoryFilter}\r\n+                            value={categoryFilter}\r\n+                            style={{ width: \"100%\" }}\r\n+                        >\r\n+                            <option value=\"\">ทั้งหมด</option>\r\n+                            <option value=\"เนื้อสัตว์\">เนื้อสัตว์</option>\r\n+                            <option value=\"ผัก\">ผัก</option>\r\n+                            <option value=\"ทะเล\">ทะเล</option>\r\n+                            <option value=\"เครื่องดื่ม\">เครื่องดื่ม</option>\r\n+                            <option value=\"ผลไม้\">ผลไม้</option>\r\n+                        </select>\r\n                     </Grid>\r\n+\r\n+                    {/* Add Button */}\r\n+                    <Grid item xs={12} sm={6} md={2}>\r\n+                        <button className=\"blue-button\" onClick={handleAddNewData} style={{ width: \"100%\" }}>\r\n+                            เพิ่มวัตถุดิบใหม่\r\n+                        </button>\r\n+                    </Grid>\r\n                 </Grid>\r\n-\r\n-                <div class='inline-elements'>\r\n-                    <select className=\"category-filter\" onChange={handleCategoryFilter} value={categoryFilter} style={{ marginTop: \"10px\" }}>\r\n-                        <option value=\"\">ทั้งหมด</option>\r\n-                        <option value=\"เนื้อสัตว์\">เนื้อสัตว์</option>\r\n-                        <option value=\"ผัก\">ผัก</option>\r\n-                        <option value=\"ทะเล\">ทะเล</option>\r\n-                        <option value=\"เครื่องดื่ม\">เครื่องดื่ม</option>\r\n-                        <option value=\"ผลไม้\">ผลไม้</option>\r\n-                    </select>\r\n-                    <button className=\"blue-button\" onClick={handleAddNewData}>\r\n-                        เพิ่มวัตถุดิบใหม่\r\n-                    </button>\r\n-                </div>\r\n+                \r\n                 <IngredientTable data={paginatedIngredients} onEdit={handleEditData} handleClickConfirm={handleClickConfirm} />\r\n             </Box>\r\n \r\n             {showEditData &&\r\n"
                },
                {
                    "date": 1740604412941,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -176,8 +176,23 @@\n                             เพิ่มวัตถุดิบใหม่\r\n                         </button>\r\n                     </Grid>\r\n                 </Grid>\r\n+\r\n+                {/* \r\n+                <div class='inline-elements'>\r\n+                    <select className=\"category-filter\" onChange={handleCategoryFilter} value={categoryFilter} style={{ marginTop: \"10px\" }}>\r\n+                        <option value=\"\">ทั้งหมด</option>\r\n+                        <option value=\"เนื้อสัตว์\">เนื้อสัตว์</option>\r\n+                        <option value=\"ผัก\">ผัก</option>\r\n+                        <option value=\"ทะเล\">ทะเล</option>\r\n+                        <option value=\"เครื่องดื่ม\">เครื่องดื่ม</option>\r\n+                        <option value=\"ผลไม้\">ผลไม้</option>\r\n+                    </select>\r\n+                    <button className=\"blue-button\" onClick={handleAddNewData}>\r\n+                        เพิ่มวัตถุดิบใหม่\r\n+                    </button>\r\n+                </div>*/}\r\n                 \r\n                 <IngredientTable data={paginatedIngredients} onEdit={handleEditData} handleClickConfirm={handleClickConfirm} />\r\n             </Box>\r\n \r\n"
                },
                {
                    "date": 1740604463283,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -151,11 +151,12 @@\n                 }}\r\n             >\r\n                 <Grid container>\r\n                     {/* Search Bar & Filters */}\r\n+                    <Grid item xs={4}\r\n                     <input type=\"text\" placeholder=\"ค้นหาวัตถุดิบ\" value={search} onChange={handleSearch} />\r\n                     {/* Dropdown Filter */}\r\n-                    <Grid item xs={12} sm={6} md={2}>\r\n+                    <Grid item xs={4}>\r\n                         <select\r\n                             className=\"category-filter\"\r\n                             onChange={handleCategoryFilter}\r\n                             value={categoryFilter}\r\n@@ -170,9 +171,9 @@\n                         </select>\r\n                     </Grid>\r\n \r\n                     {/* Add Button */}\r\n-                    <Grid item xs={12} sm={6} md={2}>\r\n+                    <Grid item xs={4}>\r\n                         <button className=\"blue-button\" onClick={handleAddNewData} style={{ width: \"100%\" }}>\r\n                             เพิ่มวัตถุดิบใหม่\r\n                         </button>\r\n                     </Grid>\r\n@@ -191,9 +192,9 @@\n                     <button className=\"blue-button\" onClick={handleAddNewData}>\r\n                         เพิ่มวัตถุดิบใหม่\r\n                     </button>\r\n                 </div>*/}\r\n-                \r\n+\r\n                 <IngredientTable data={paginatedIngredients} onEdit={handleEditData} handleClickConfirm={handleClickConfirm} />\r\n             </Box>\r\n \r\n             {showEditData &&\r\n"
                },
                {
                    "date": 1740604474845,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,13 +150,13 @@\n                     marginRight: \"10px\",\r\n                 }}\r\n             >\r\n                 <Grid container>\r\n-                    {/* Search Bar & Filters */}\r\n-                    <Grid item xs={4}\r\n-                    <input type=\"text\" placeholder=\"ค้นหาวัตถุดิบ\" value={search} onChange={handleSearch} />\r\n-                    {/* Dropdown Filter */}\r\n                     <Grid item xs={4}>\r\n+                        <input type=\"text\" placeholder=\"ค้นหาวัตถุดิบ\" value={search} onChange={handleSearch} />\r\n+                    </Grid>\r\n+                    \r\n+                    <Grid item xs={4}>\r\n                         <select\r\n                             className=\"category-filter\"\r\n                             onChange={handleCategoryFilter}\r\n                             value={categoryFilter}\r\n@@ -170,9 +170,8 @@\n                             <option value=\"ผลไม้\">ผลไม้</option>\r\n                         </select>\r\n                     </Grid>\r\n \r\n-                    {/* Add Button */}\r\n                     <Grid item xs={4}>\r\n                         <button className=\"blue-button\" onClick={handleAddNewData} style={{ width: \"100%\" }}>\r\n                             เพิ่มวัตถุดิบใหม่\r\n                         </button>\r\n"
                },
                {
                    "date": 1740604578973,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -149,9 +149,9 @@\n                     overflowY: \"auto\",\r\n                     marginRight: \"10px\",\r\n                 }}\r\n             >\r\n-                <Grid container>\r\n+                <Grid container spacing={2} alignItems=\"center\">\r\n                     <Grid item xs={4}>\r\n                         <input type=\"text\" placeholder=\"ค้นหาวัตถุดิบ\" value={search} onChange={handleSearch} />\r\n                     </Grid>\r\n                     \r\n"
                },
                {
                    "date": 1740604604805,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,13 @@\n         });\r\n     };\r\n \r\n     const handleSearch = (e) => setSearch(e.target.value.toLowerCase());\r\n-    const handleCategoryFilter = (e) => setCategoryFilter(e.target.value);\r\n+    const handleCategoryFilter = (e) => {\r\n+        setCategoryFilter(e.target.value);\r\n+        console.log(\"เลือกหมวดหมู่:\", e.target.value);\r\n+    };\r\n+    \r\n \r\n     // Filter function\r\n     const filteredIngredients = data.filter(ingredient =>\r\n         ingredient.name.toLowerCase().includes(search) &&\r\n"
                },
                {
                    "date": 1740604611763,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,12 +119,9 @@\n         });\r\n     };\r\n \r\n     const handleSearch = (e) => setSearch(e.target.value.toLowerCase());\r\n-    const handleCategoryFilter = (e) => {\r\n-        setCategoryFilter(e.target.value);\r\n-        console.log(\"เลือกหมวดหมู่:\", e.target.value);\r\n-    };\r\n+    const handleCategoryFilter = (e) => {setCategoryFilter(e.target.value);};\r\n     \r\n \r\n     // Filter function\r\n     const filteredIngredients = data.filter(ingredient =>\r\n"
                },
                {
                    "date": 1740604768145,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,11 +119,11 @@\n         });\r\n     };\r\n \r\n     const handleSearch = (e) => setSearch(e.target.value.toLowerCase());\r\n-    const handleCategoryFilter = (e) => {setCategoryFilter(e.target.value);};\r\n-    \r\n+    const handleCategoryFilter = (e) => { setCategoryFilter(e.target.value); };\r\n \r\n+\r\n     // Filter function\r\n     const filteredIngredients = data.filter(ingredient =>\r\n         ingredient.name.toLowerCase().includes(search) &&\r\n         (categoryFilter ? ingredient.category === categoryFilter : true)\r\n@@ -154,9 +154,9 @@\n                 <Grid container spacing={2} alignItems=\"center\">\r\n                     <Grid item xs={4}>\r\n                         <input type=\"text\" placeholder=\"ค้นหาวัตถุดิบ\" value={search} onChange={handleSearch} />\r\n                     </Grid>\r\n-                    \r\n+\r\n                     <Grid item xs={4}>\r\n                         <select\r\n                             className=\"category-filter\"\r\n                             onChange={handleCategoryFilter}\r\n@@ -196,16 +196,68 @@\n \r\n                 <IngredientTable data={paginatedIngredients} onEdit={handleEditData} handleClickConfirm={handleClickConfirm} />\r\n             </Box>\r\n \r\n-            {showEditData &&\r\n-                <AddIngredient\r\n-                    data={dataToEdit}\r\n-                    isEditing={isEditing}\r\n-                    onSave={handleSaveData}\r\n-                    onClose={() => setShowEditData(false)}\r\n-                />\r\n-            }\r\n+            {/* Desktop & Tablet: แสดง AddMenu และ MenuItemDetail ด้านขวา */}\r\n+            {!isMobile && (showEditData || showItemDetail) && (\r\n+                <Box\r\n+                    sx={{\r\n+                        backgroundColor: \"#fff\",\r\n+                        width: isTablet ? \"35%\" : \"25%\", // Box ของ Tablet = 30%, Desktop = 25%\r\n+                        height: \"100vh\",\r\n+                        padding: \"20px\",\r\n+                        borderRadius: \"8px\",\r\n+                        overflowY: \"auto\",\r\n+                        display: \"flex\",\r\n+                        flexDirection: \"column\",\r\n+                    }}\r\n+                >\r\n+                    {showEditData &&\r\n+                        <AddIngredient\r\n+                            data={dataToEdit}\r\n+                            isEditing={isEditing}\r\n+                            onSave={handleSaveData}\r\n+                            onClose={() => setShowEditData(false)}\r\n+                        />\r\n+                    }\r\n+                </Box>\r\n+            )}\r\n+\r\n+            {/* Mobile - ใช้ Modal */}\r\n+            {isMobile && (\r\n+                <Modal\r\n+                    open={showEditData || showItemDetail}\r\n+                    onClose={() => {\r\n+                        setShowEditData(false);\r\n+                        setShowItemDetail(false);\r\n+                    }}\r\n+                >\r\n+                    <Box\r\n+                        sx={{\r\n+                            backgroundColor: \"#fff\",\r\n+                            padding: \"15px\",\r\n+                            borderRadius: \"8px\",\r\n+                            maxWidth: \"90vw\",\r\n+                            height: \"80vh\",\r\n+                            margin: \"10vh auto\",\r\n+                            overflowY: \"auto\",\r\n+                            display: \"flex\",\r\n+                            flexDirection: \"column\",\r\n+                        }}\r\n+                    >\r\n+                        {showEditData &&\r\n+                            <AddIngredient\r\n+                                data={dataToEdit}\r\n+                                isEditing={isEditing}\r\n+                                onSave={handleSaveData}\r\n+                                onClose={() => setShowEditData(false)}\r\n+                            />\r\n+                        }\r\n+                    </Box>\r\n+                </Modal>\r\n+            )}\r\n+\r\n+\r\n         </>\r\n     );\r\n };\r\n \r\n"
                },
                {
                    "date": 1740604787140,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -227,9 +227,8 @@\n                 <Modal\r\n                     open={showEditData || showItemDetail}\r\n                     onClose={() => {\r\n                         setShowEditData(false);\r\n-                        setShowItemDetail(false);\r\n                     }}\r\n                 >\r\n                     <Box\r\n                         sx={{\r\n"
                },
                {
                    "date": 1740604812132,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -197,9 +197,9 @@\n                 <IngredientTable data={paginatedIngredients} onEdit={handleEditData} handleClickConfirm={handleClickConfirm} />\r\n             </Box>\r\n \r\n             {/* Desktop & Tablet: แสดง AddMenu และ MenuItemDetail ด้านขวา */}\r\n-            {!isMobile && (showEditData || showItemDetail) && (\r\n+            {!isMobile && (\r\n                 <Box\r\n                     sx={{\r\n                         backgroundColor: \"#fff\",\r\n                         width: isTablet ? \"35%\" : \"25%\", // Box ของ Tablet = 30%, Desktop = 25%\r\n"
                },
                {
                    "date": 1740604826185,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,263 @@\n+import React, { useState, useEffect } from 'react';\r\n+import { Grid, Box, Modal, useMediaQuery } from \"@mui/material\";\r\n+import AddIngredient from './assets/AddIngredient';\r\n+import './IngredientManager.css';\r\n+import IngredientTable from './assets/IngredientTable';\r\n+import axios from 'axios';\r\n+import Swal from 'sweetalert2';\r\n+\r\n+const IngredientManager = () => {\r\n+    const isMobile = useMediaQuery(\"(max-width: 767px)\");\r\n+    const isTablet = useMediaQuery(\"(min-width: 768px) and (max-width: 1040px)\");\r\n+\r\n+    const [data, setData] = useState([]);   // Collecting datas from API\r\n+    const [showEditData, setShowEditData] = useState(false);    // show AddIngredient.jsx\r\n+    const [dataToEdit, setDataToEdit] = useState(null); // Edit data\r\n+    const [isEditing, setIsEditing] = useState(false);  // Add & Edit data (mode toggle)\r\n+    const [dataToDelete, setDataToDelete] = useState(null);     // Delete data\r\n+\r\n+    const [search, setSearch] = useState('');\r\n+    const [category, setCategory] = useState([]);\r\n+    const [categoryFilter, setCategoryFilter] = useState('');\r\n+    const [currentPage, setCurrentPage] = useState(1);\r\n+\r\n+    const itemsPerPage = 8;\r\n+\r\n+    // API: Fetch data from database\r\n+    useEffect(() => {\r\n+        axios.get('http://localhost:5000/api/ingredients')\r\n+            .then(res => setData(res.data))\r\n+            .catch(err => console.error('Error fetching ingredients:', err));\r\n+\r\n+        axios.get('http://localhost:5000/api/add_menus/category')\r\n+            .then(res => { setCategory(res.data); })\r\n+            .catch(err => console.error('Error fetching categories:', err));\r\n+    }, []);\r\n+\r\n+    // API: 1.Edit 2.Add\r\n+    const handleSaveData = (updatedData) => {\r\n+        if (isEditing) {\r\n+            //console.log('วัตถุดิบ  :', dataToEdit._id);\r\n+            axios.put(`http://localhost:5000/api/ingredients/${dataToEdit._id}`, updatedData)\r\n+                .then(res => {\r\n+                    //console.log('แก้ไขวัตถุดิบเป็น: ', res.data);\r\n+                    setData(data.map(user => (user._id === res.data._id ? res.data : user)));\r\n+                })\r\n+                .catch(err => console.error('Failed to update user:', err));\r\n+        } else {\r\n+            //console.log('วัตถุดิบ:', updatedData);\r\n+            axios.post('http://localhost:5000/api/ingredients', updatedData)\r\n+                .then(res => {\r\n+                    //console.log('เพิ่มวัตถุดิบเข้าสู่ database สำเร็จ');\r\n+                    setData(prev => [...prev, res.data]);\r\n+                })\r\n+                .catch(err => console.error('เพิ่มวัตถุดิบเข้าสู่ database ไม่สำเร็จ:', err));\r\n+        }\r\n+        setShowEditData(false); // ปิดหน้าต่าง AddIngredient.jsx\r\n+    };\r\n+\r\n+    // API: 3.Delete\r\n+    const handleDeleteIngredient = (data) => {\r\n+        //console.log(data._id);\r\n+        axios.delete(`http://localhost:5000/api/ingredients/${data._id}`)\r\n+            .then((res) => {\r\n+                //console.log('วัตถุดิบที่ต้องการลบ:', res.data);\r\n+                Swal.fire({\r\n+                    title: 'วัตถุดิบถูกลบแล้ว!',\r\n+                    confirmButtonColor: '#64A2FF',\r\n+                    icon: 'success',\r\n+                });\r\n+                setData((prevData) => prevData.filter((item) => item._id !== data._id));\r\n+            })\r\n+            .catch((err) => {\r\n+                //console.error('เกิดข้อผิดพลาดในการลบวัตถุดิบ:', err);\r\n+                Swal.fire({\r\n+                    title: 'เกิดข้อผิดพลาดในการลบวัตถุดิบ',\r\n+                    text: 'กรุณาลองใหม่อีกครั้ง',\r\n+                    icon: 'error',\r\n+                });\r\n+            });\r\n+    }\r\n+\r\n+\r\n+    // Edit function\r\n+    const handleEditData = (data) => {\r\n+        setDataToEdit(data);\r\n+        setIsEditing(true); // เปลี่ยนโหมดเป็น Edit\r\n+        setShowEditData(true);\r\n+    };\r\n+\r\n+    // Add function\r\n+    const handleAddNewData = () => {\r\n+        setDataToEdit({ name: '', group: '', unit: '', remain: null, min: null });\r\n+        setIsEditing(false); // เปลี่ยนโหมดเป็น Add\r\n+        setShowEditData(true);\r\n+    };\r\n+\r\n+    // Confirm delete function\r\n+    const handleClickConfirm = (e) => {\r\n+        setDataToDelete(e);\r\n+        Swal.fire({\r\n+            title: \"แน่ใจใช่ไหม?\",\r\n+            text: \"คุณกำลังจะลบ\" + \"\\nชื่อวัตถุดิบ: \" + e.name + \"\\nหมวดหมู่: \" + e.group,\r\n+            icon: \"warning\",\r\n+            showCancelButton: true,\r\n+            confirmButtonColor: \"#ff4b4b\",\r\n+            cancelButtonColor: \"#B2B2B2\",\r\n+            confirmButtonText: 'ยืนยันการลบ',\r\n+            cancelButtonText: 'ยกเลิก',\r\n+            dangerMode: true,\r\n+        }).then((result) => {\r\n+            if (result.isConfirmed) {\r\n+                handleDeleteIngredient(e);\r\n+            } else {\r\n+                Swal.fire({\r\n+                    title: 'ยกเลิกการลบ',\r\n+                    confirmButtonColor: '#64A2FF',\r\n+                });\r\n+            }\r\n+        });\r\n+    };\r\n+\r\n+    const handleSearch = (e) => setSearch(e.target.value.toLowerCase());\r\n+    const handleCategoryFilter = (e) => { setCategoryFilter(e.target.value); };\r\n+\r\n+\r\n+    // Filter function\r\n+    const filteredIngredients = data.filter(ingredient =>\r\n+        ingredient.name.toLowerCase().includes(search) &&\r\n+        (categoryFilter ? ingredient.category === categoryFilter : true)\r\n+    );\r\n+\r\n+    const totalPages = Math.ceil(filteredIngredients.length / itemsPerPage);\r\n+    const startIndex = (currentPage - 1) * itemsPerPage;\r\n+    const paginatedIngredients = filteredIngredients.slice(startIndex, startIndex + itemsPerPage);\r\n+\r\n+    const handleNextPage = () => currentPage < totalPages && setCurrentPage(currentPage + 1);\r\n+    const handleBeforePage = () => currentPage > 1 && setCurrentPage(currentPage - 1);\r\n+\r\n+\r\n+    return (\r\n+        <>\r\n+            {/* Box ของ MenuList */}\r\n+            <Box\r\n+                sx={{\r\n+                    backgroundColor: \"#fff\",\r\n+                    width: isMobile ? \"100%\" : isTablet ? \"65%\" : \"75%\",\r\n+                    height: \"100vh\",\r\n+                    padding: \"20px\",\r\n+                    borderRadius: \"8px\",\r\n+                    overflowY: \"auto\",\r\n+                    marginRight: \"10px\",\r\n+                }}\r\n+            >\r\n+                <Grid container spacing={2} alignItems=\"center\">\r\n+                    <Grid item xs={4}>\r\n+                        <input type=\"text\" placeholder=\"ค้นหาวัตถุดิบ\" value={search} onChange={handleSearch} />\r\n+                    </Grid>\r\n+\r\n+                    <Grid item xs={4}>\r\n+                        <select\r\n+                            className=\"category-filter\"\r\n+                            onChange={handleCategoryFilter}\r\n+                            value={categoryFilter}\r\n+                            style={{ width: \"100%\" }}\r\n+                        >\r\n+                            <option value=\"\">ทั้งหมด</option>\r\n+                            <option value=\"เนื้อสัตว์\">เนื้อสัตว์</option>\r\n+                            <option value=\"ผัก\">ผัก</option>\r\n+                            <option value=\"ทะเล\">ทะเล</option>\r\n+                            <option value=\"เครื่องดื่ม\">เครื่องดื่ม</option>\r\n+                            <option value=\"ผลไม้\">ผลไม้</option>\r\n+                        </select>\r\n+                    </Grid>\r\n+\r\n+                    <Grid item xs={4}>\r\n+                        <button className=\"blue-button\" onClick={handleAddNewData} style={{ width: \"100%\" }}>\r\n+                            เพิ่มวัตถุดิบใหม่\r\n+                        </button>\r\n+                    </Grid>\r\n+                </Grid>\r\n+\r\n+                {/* \r\n+                <div class='inline-elements'>\r\n+                    <select className=\"category-filter\" onChange={handleCategoryFilter} value={categoryFilter} style={{ marginTop: \"10px\" }}>\r\n+                        <option value=\"\">ทั้งหมด</option>\r\n+                        <option value=\"เนื้อสัตว์\">เนื้อสัตว์</option>\r\n+                        <option value=\"ผัก\">ผัก</option>\r\n+                        <option value=\"ทะเล\">ทะเล</option>\r\n+                        <option value=\"เครื่องดื่ม\">เครื่องดื่ม</option>\r\n+                        <option value=\"ผลไม้\">ผลไม้</option>\r\n+                    </select>\r\n+                    <button className=\"blue-button\" onClick={handleAddNewData}>\r\n+                        เพิ่มวัตถุดิบใหม่\r\n+                    </button>\r\n+                </div>*/}\r\n+\r\n+                <IngredientTable data={paginatedIngredients} onEdit={handleEditData} handleClickConfirm={handleClickConfirm} />\r\n+            </Box>\r\n+\r\n+            {/* Desktop & Tablet: แสดง AddMenu และ MenuItemDetail ด้านขวา */}\r\n+            {!isMobile && (\r\n+                <Box\r\n+                    sx={{\r\n+                        backgroundColor: \"#fff\",\r\n+                        width: isTablet ? \"35%\" : \"25%\", // Box ของ Tablet = 30%, Desktop = 25%\r\n+                        height: \"100vh\",\r\n+                        padding: \"20px\",\r\n+                        borderRadius: \"8px\",\r\n+                        overflowY: \"auto\",\r\n+                        display: \"flex\",\r\n+                        flexDirection: \"column\",\r\n+                    }}\r\n+                >\r\n+                    {showEditData &&\r\n+                        <AddIngredient\r\n+                            data={dataToEdit}\r\n+                            isEditing={isEditing}\r\n+                            onSave={handleSaveData}\r\n+                            onClose={() => setShowEditData(false)}\r\n+                        />\r\n+                    }\r\n+                </Box>\r\n+            )}\r\n+\r\n+            {/* Mobile - ใช้ Modal */}\r\n+            {isMobile && (\r\n+                <Modal\r\n+                    open={ShowEditData}\r\n+                    onClose={() => {\r\n+                        setShowEditData(false);\r\n+                    }}\r\n+                >\r\n+                    <Box\r\n+                        sx={{\r\n+                            backgroundColor: \"#fff\",\r\n+                            padding: \"15px\",\r\n+                            borderRadius: \"8px\",\r\n+                            maxWidth: \"90vw\",\r\n+                            height: \"80vh\",\r\n+                            margin: \"10vh auto\",\r\n+                            overflowY: \"auto\",\r\n+                            display: \"flex\",\r\n+                            flexDirection: \"column\",\r\n+                        }}\r\n+                    >\r\n+                        {showEditData &&\r\n+                            <AddIngredient\r\n+                                data={dataToEdit}\r\n+                                isEditing={isEditing}\r\n+                                onSave={handleSaveData}\r\n+                                onClose={() => setShowEditData(false)}\r\n+                            />\r\n+                        }\r\n+                    </Box>\r\n+                </Modal>\r\n+            )}\r\n+\r\n+\r\n+        </>\r\n+    );\r\n+};\r\n+\r\n+export default IngredientManager;\r\n"
                },
                {
                    "date": 1740604832705,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -224,9 +224,9 @@\n \r\n             {/* Mobile - ใช้ Modal */}\r\n             {isMobile && (\r\n                 <Modal\r\n-                    open={ShowEditData}\r\n+                    open={showEditData}\r\n                     onClose={() => {\r\n                         setShowEditData(false);\r\n                     }}\r\n                 >\r\n@@ -260,267 +260,4 @@\n     );\r\n };\r\n \r\n export default IngredientManager;\r\n-import React, { useState, useEffect } from 'react';\r\n-import { Grid, Box, Modal, useMediaQuery } from \"@mui/material\";\r\n-import AddIngredient from './assets/AddIngredient';\r\n-import './IngredientManager.css';\r\n-import IngredientTable from './assets/IngredientTable';\r\n-import axios from 'axios';\r\n-import Swal from 'sweetalert2';\r\n-\r\n-const IngredientManager = () => {\r\n-    const isMobile = useMediaQuery(\"(max-width: 767px)\");\r\n-    const isTablet = useMediaQuery(\"(min-width: 768px) and (max-width: 1040px)\");\r\n-\r\n-    const [data, setData] = useState([]);   // Collecting datas from API\r\n-    const [showEditData, setShowEditData] = useState(false);    // show AddIngredient.jsx\r\n-    const [dataToEdit, setDataToEdit] = useState(null); // Edit data\r\n-    const [isEditing, setIsEditing] = useState(false);  // Add & Edit data (mode toggle)\r\n-    const [dataToDelete, setDataToDelete] = useState(null);     // Delete data\r\n-\r\n-    const [search, setSearch] = useState('');\r\n-    const [category, setCategory] = useState([]);\r\n-    const [categoryFilter, setCategoryFilter] = useState('');\r\n-    const [currentPage, setCurrentPage] = useState(1);\r\n-\r\n-    const itemsPerPage = 8;\r\n-\r\n-    // API: Fetch data from database\r\n-    useEffect(() => {\r\n-        axios.get('http://localhost:5000/api/ingredients')\r\n-            .then(res => setData(res.data))\r\n-            .catch(err => console.error('Error fetching ingredients:', err));\r\n-\r\n-        axios.get('http://localhost:5000/api/add_menus/category')\r\n-            .then(res => { setCategory(res.data); })\r\n-            .catch(err => console.error('Error fetching categories:', err));\r\n-    }, []);\r\n-\r\n-    // API: 1.Edit 2.Add\r\n-    const handleSaveData = (updatedData) => {\r\n-        if (isEditing) {\r\n-            //console.log('วัตถุดิบ  :', dataToEdit._id);\r\n-            axios.put(`http://localhost:5000/api/ingredients/${dataToEdit._id}`, updatedData)\r\n-                .then(res => {\r\n-                    //console.log('แก้ไขวัตถุดิบเป็น: ', res.data);\r\n-                    setData(data.map(user => (user._id === res.data._id ? res.data : user)));\r\n-                })\r\n-                .catch(err => console.error('Failed to update user:', err));\r\n-        } else {\r\n-            //console.log('วัตถุดิบ:', updatedData);\r\n-            axios.post('http://localhost:5000/api/ingredients', updatedData)\r\n-                .then(res => {\r\n-                    //console.log('เพิ่มวัตถุดิบเข้าสู่ database สำเร็จ');\r\n-                    setData(prev => [...prev, res.data]);\r\n-                })\r\n-                .catch(err => console.error('เพิ่มวัตถุดิบเข้าสู่ database ไม่สำเร็จ:', err));\r\n-        }\r\n-        setShowEditData(false); // ปิดหน้าต่าง AddIngredient.jsx\r\n-    };\r\n-\r\n-    // API: 3.Delete\r\n-    const handleDeleteIngredient = (data) => {\r\n-        //console.log(data._id);\r\n-        axios.delete(`http://localhost:5000/api/ingredients/${data._id}`)\r\n-            .then((res) => {\r\n-                //console.log('วัตถุดิบที่ต้องการลบ:', res.data);\r\n-                Swal.fire({\r\n-                    title: 'วัตถุดิบถูกลบแล้ว!',\r\n-                    confirmButtonColor: '#64A2FF',\r\n-                    icon: 'success',\r\n-                });\r\n-                setData((prevData) => prevData.filter((item) => item._id !== data._id));\r\n-            })\r\n-            .catch((err) => {\r\n-                //console.error('เกิดข้อผิดพลาดในการลบวัตถุดิบ:', err);\r\n-                Swal.fire({\r\n-                    title: 'เกิดข้อผิดพลาดในการลบวัตถุดิบ',\r\n-                    text: 'กรุณาลองใหม่อีกครั้ง',\r\n-                    icon: 'error',\r\n-                });\r\n-            });\r\n-    }\r\n-\r\n-\r\n-    // Edit function\r\n-    const handleEditData = (data) => {\r\n-        setDataToEdit(data);\r\n-        setIsEditing(true); // เปลี่ยนโหมดเป็น Edit\r\n-        setShowEditData(true);\r\n-    };\r\n-\r\n-    // Add function\r\n-    const handleAddNewData = () => {\r\n-        setDataToEdit({ name: '', group: '', unit: '', remain: null, min: null });\r\n-        setIsEditing(false); // เปลี่ยนโหมดเป็น Add\r\n-        setShowEditData(true);\r\n-    };\r\n-\r\n-    // Confirm delete function\r\n-    const handleClickConfirm = (e) => {\r\n-        setDataToDelete(e);\r\n-        Swal.fire({\r\n-            title: \"แน่ใจใช่ไหม?\",\r\n-            text: \"คุณกำลังจะลบ\" + \"\\nชื่อวัตถุดิบ: \" + e.name + \"\\nหมวดหมู่: \" + e.group,\r\n-            icon: \"warning\",\r\n-            showCancelButton: true,\r\n-            confirmButtonColor: \"#ff4b4b\",\r\n-            cancelButtonColor: \"#B2B2B2\",\r\n-            confirmButtonText: 'ยืนยันการลบ',\r\n-            cancelButtonText: 'ยกเลิก',\r\n-            dangerMode: true,\r\n-        }).then((result) => {\r\n-            if (result.isConfirmed) {\r\n-                handleDeleteIngredient(e);\r\n-            } else {\r\n-                Swal.fire({\r\n-                    title: 'ยกเลิกการลบ',\r\n-                    confirmButtonColor: '#64A2FF',\r\n-                });\r\n-            }\r\n-        });\r\n-    };\r\n-\r\n-    const handleSearch = (e) => setSearch(e.target.value.toLowerCase());\r\n-    const handleCategoryFilter = (e) => { setCategoryFilter(e.target.value); };\r\n-\r\n-\r\n-    // Filter function\r\n-    const filteredIngredients = data.filter(ingredient =>\r\n-        ingredient.name.toLowerCase().includes(search) &&\r\n-        (categoryFilter ? ingredient.category === categoryFilter : true)\r\n-    );\r\n-\r\n-    const totalPages = Math.ceil(filteredIngredients.length / itemsPerPage);\r\n-    const startIndex = (currentPage - 1) * itemsPerPage;\r\n-    const paginatedIngredients = filteredIngredients.slice(startIndex, startIndex + itemsPerPage);\r\n-\r\n-    const handleNextPage = () => currentPage < totalPages && setCurrentPage(currentPage + 1);\r\n-    const handleBeforePage = () => currentPage > 1 && setCurrentPage(currentPage - 1);\r\n-\r\n-\r\n-    return (\r\n-        <>\r\n-            {/* Box ของ MenuList */}\r\n-            <Box\r\n-                sx={{\r\n-                    backgroundColor: \"#fff\",\r\n-                    width: isMobile ? \"100%\" : isTablet ? \"65%\" : \"75%\",\r\n-                    height: \"100vh\",\r\n-                    padding: \"20px\",\r\n-                    borderRadius: \"8px\",\r\n-                    overflowY: \"auto\",\r\n-                    marginRight: \"10px\",\r\n-                }}\r\n-            >\r\n-                <Grid container spacing={2} alignItems=\"center\">\r\n-                    <Grid item xs={4}>\r\n-                        <input type=\"text\" placeholder=\"ค้นหาวัตถุดิบ\" value={search} onChange={handleSearch} />\r\n-                    </Grid>\r\n-\r\n-                    <Grid item xs={4}>\r\n-                        <select\r\n-                            className=\"category-filter\"\r\n-                            onChange={handleCategoryFilter}\r\n-                            value={categoryFilter}\r\n-                            style={{ width: \"100%\" }}\r\n-                        >\r\n-                            <option value=\"\">ทั้งหมด</option>\r\n-                            <option value=\"เนื้อสัตว์\">เนื้อสัตว์</option>\r\n-                            <option value=\"ผัก\">ผัก</option>\r\n-                            <option value=\"ทะเล\">ทะเล</option>\r\n-                            <option value=\"เครื่องดื่ม\">เครื่องดื่ม</option>\r\n-                            <option value=\"ผลไม้\">ผลไม้</option>\r\n-                        </select>\r\n-                    </Grid>\r\n-\r\n-                    <Grid item xs={4}>\r\n-                        <button className=\"blue-button\" onClick={handleAddNewData} style={{ width: \"100%\" }}>\r\n-                            เพิ่มวัตถุดิบใหม่\r\n-                        </button>\r\n-                    </Grid>\r\n-                </Grid>\r\n-\r\n-                {/* \r\n-                <div class='inline-elements'>\r\n-                    <select className=\"category-filter\" onChange={handleCategoryFilter} value={categoryFilter} style={{ marginTop: \"10px\" }}>\r\n-                        <option value=\"\">ทั้งหมด</option>\r\n-                        <option value=\"เนื้อสัตว์\">เนื้อสัตว์</option>\r\n-                        <option value=\"ผัก\">ผัก</option>\r\n-                        <option value=\"ทะเล\">ทะเล</option>\r\n-                        <option value=\"เครื่องดื่ม\">เครื่องดื่ม</option>\r\n-                        <option value=\"ผลไม้\">ผลไม้</option>\r\n-                    </select>\r\n-                    <button className=\"blue-button\" onClick={handleAddNewData}>\r\n-                        เพิ่มวัตถุดิบใหม่\r\n-                    </button>\r\n-                </div>*/}\r\n-\r\n-                <IngredientTable data={paginatedIngredients} onEdit={handleEditData} handleClickConfirm={handleClickConfirm} />\r\n-            </Box>\r\n-\r\n-            {/* Desktop & Tablet: แสดง AddMenu และ MenuItemDetail ด้านขวา */}\r\n-            {!isMobile && (\r\n-                <Box\r\n-                    sx={{\r\n-                        backgroundColor: \"#fff\",\r\n-                        width: isTablet ? \"35%\" : \"25%\", // Box ของ Tablet = 30%, Desktop = 25%\r\n-                        height: \"100vh\",\r\n-                        padding: \"20px\",\r\n-                        borderRadius: \"8px\",\r\n-                        overflowY: \"auto\",\r\n-                        display: \"flex\",\r\n-                        flexDirection: \"column\",\r\n-                    }}\r\n-                >\r\n-                    {showEditData &&\r\n-                        <AddIngredient\r\n-                            data={dataToEdit}\r\n-                            isEditing={isEditing}\r\n-                            onSave={handleSaveData}\r\n-                            onClose={() => setShowEditData(false)}\r\n-                        />\r\n-                    }\r\n-                </Box>\r\n-            )}\r\n-\r\n-            {/* Mobile - ใช้ Modal */}\r\n-            {isMobile && (\r\n-                <Modal\r\n-                    open={showEditData || showItemDetail}\r\n-                    onClose={() => {\r\n-                        setShowEditData(false);\r\n-                    }}\r\n-                >\r\n-                    <Box\r\n-                        sx={{\r\n-                            backgroundColor: \"#fff\",\r\n-                            padding: \"15px\",\r\n-                            borderRadius: \"8px\",\r\n-                            maxWidth: \"90vw\",\r\n-                            height: \"80vh\",\r\n-                            margin: \"10vh auto\",\r\n-                            overflowY: \"auto\",\r\n-                            display: \"flex\",\r\n-                            flexDirection: \"column\",\r\n-                        }}\r\n-                    >\r\n-                        {showEditData &&\r\n-                            <AddIngredient\r\n-                                data={dataToEdit}\r\n-                                isEditing={isEditing}\r\n-                                onSave={handleSaveData}\r\n-                                onClose={() => setShowEditData(false)}\r\n-                            />\r\n-                        }\r\n-                    </Box>\r\n-                </Modal>\r\n-            )}\r\n-\r\n-\r\n-        </>\r\n-    );\r\n-};\r\n-\r\n-export default IngredientManager;\r\n"
                },
                {
                    "date": 1740606420906,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -197,9 +197,9 @@\n                 <IngredientTable data={paginatedIngredients} onEdit={handleEditData} handleClickConfirm={handleClickConfirm} />\r\n             </Box>\r\n \r\n             {/* Desktop & Tablet: แสดง AddMenu และ MenuItemDetail ด้านขวา */}\r\n-            {!isMobile && (\r\n+            {!isMobile && showEditData (\r\n                 <Box\r\n                     sx={{\r\n                         backgroundColor: \"#fff\",\r\n                         width: isTablet ? \"35%\" : \"25%\", // Box ของ Tablet = 30%, Desktop = 25%\r\n"
                },
                {
                    "date": 1740606435501,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -197,9 +197,9 @@\n                 <IngredientTable data={paginatedIngredients} onEdit={handleEditData} handleClickConfirm={handleClickConfirm} />\r\n             </Box>\r\n \r\n             {/* Desktop & Tablet: แสดง AddMenu และ MenuItemDetail ด้านขวา */}\r\n-            {!isMobile && showEditData (\r\n+            {!isMobile && (showEditData) && (\r\n                 <Box\r\n                     sx={{\r\n                         backgroundColor: \"#fff\",\r\n                         width: isTablet ? \"35%\" : \"25%\", // Box ของ Tablet = 30%, Desktop = 25%\r\n"
                },
                {
                    "date": 1740606506664,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -157,9 +157,8 @@\n                     </Grid>\r\n \r\n                     <Grid item xs={4}>\r\n                         <select\r\n-                            className=\"category-filter\"\r\n                             onChange={handleCategoryFilter}\r\n                             value={categoryFilter}\r\n                             style={{ width: \"100%\" }}\r\n                         >\r\n"
                },
                {
                    "date": 1740606516236,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -156,13 +156,9 @@\n                         <input type=\"text\" placeholder=\"ค้นหาวัตถุดิบ\" value={search} onChange={handleSearch} />\r\n                     </Grid>\r\n \r\n                     <Grid item xs={4}>\r\n-                        <select\r\n-                            onChange={handleCategoryFilter}\r\n-                            value={categoryFilter}\r\n-                            style={{ width: \"100%\" }}\r\n-                        >\r\n+                        <select onChange={handleCategoryFilter} value={categoryFilter} style={{ width: \"100%\" }}>\r\n                             <option value=\"\">ทั้งหมด</option>\r\n                             <option value=\"เนื้อสัตว์\">เนื้อสัตว์</option>\r\n                             <option value=\"ผัก\">ผัก</option>\r\n                             <option value=\"ทะเล\">ทะเล</option>\r\n"
                },
                {
                    "date": 1740606524417,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -156,9 +156,9 @@\n                         <input type=\"text\" placeholder=\"ค้นหาวัตถุดิบ\" value={search} onChange={handleSearch} />\r\n                     </Grid>\r\n \r\n                     <Grid item xs={4}>\r\n-                        <select onChange={handleCategoryFilter} value={categoryFilter} style={{ width: \"100%\" }}>\r\n+                        <select onChange={handleCategoryFilter} value={categoryFilter} style={{ width: \"60px\" }}>\r\n                             <option value=\"\">ทั้งหมด</option>\r\n                             <option value=\"เนื้อสัตว์\">เนื้อสัตว์</option>\r\n                             <option value=\"ผัก\">ผัก</option>\r\n                             <option value=\"ทะเล\">ทะเล</option>\r\n"
                },
                {
                    "date": 1740606567606,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -151,14 +151,14 @@\n                     marginRight: \"10px\",\r\n                 }}\r\n             >\r\n                 <Grid container spacing={2} alignItems=\"center\">\r\n-                    <Grid item xs={4}>\r\n+                    <Grid item xs={8} lg={4}>\r\n                         <input type=\"text\" placeholder=\"ค้นหาวัตถุดิบ\" value={search} onChange={handleSearch} />\r\n                     </Grid>\r\n \r\n-                    <Grid item xs={4}>\r\n-                        <select onChange={handleCategoryFilter} value={categoryFilter} style={{ width: \"60px\" }}>\r\n+                    <Grid item xs={4} lg={4}>\r\n+                        <select onChange={handleCategoryFilter} value={categoryFilter} style={{ width: \"120px\" }}>\r\n                             <option value=\"\">ทั้งหมด</option>\r\n                             <option value=\"เนื้อสัตว์\">เนื้อสัตว์</option>\r\n                             <option value=\"ผัก\">ผัก</option>\r\n                             <option value=\"ทะเล\">ทะเล</option>\r\n@@ -166,9 +166,9 @@\n                             <option value=\"ผลไม้\">ผลไม้</option>\r\n                         </select>\r\n                     </Grid>\r\n \r\n-                    <Grid item xs={4}>\r\n+                    <Grid item xs={12} lg={4}>\r\n                         <button className=\"blue-button\" onClick={handleAddNewData} style={{ width: \"100%\" }}>\r\n                             เพิ่มวัตถุดิบใหม่\r\n                         </button>\r\n                     </Grid>\r\n"
                },
                {
                    "date": 1740606585940,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,9 +150,9 @@\n                     overflowY: \"auto\",\r\n                     marginRight: \"10px\",\r\n                 }}\r\n             >\r\n-                <Grid container spacing={2} alignItems=\"center\">\r\n+                <Grid container spacing={2} marginBottom=\"8px\"alignItems=\"center\">\r\n                     <Grid item xs={8} lg={4}>\r\n                         <input type=\"text\" placeholder=\"ค้นหาวัตถุดิบ\" value={search} onChange={handleSearch} />\r\n                     </Grid>\r\n \r\n"
                },
                {
                    "date": 1740606629938,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,9 +150,9 @@\n                     overflowY: \"auto\",\r\n                     marginRight: \"10px\",\r\n                 }}\r\n             >\r\n-                <Grid container spacing={2} marginBottom=\"8px\"alignItems=\"center\">\r\n+                <Grid container spacing={2} marginBottom=\"8px\" alignItems=\"center\">\r\n                     <Grid item xs={8} lg={4}>\r\n                         <input type=\"text\" placeholder=\"ค้นหาวัตถุดิบ\" value={search} onChange={handleSearch} />\r\n                     </Grid>\r\n \r\n"
                },
                {
                    "date": 1740606734073,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,9 +150,9 @@\n                     overflowY: \"auto\",\r\n                     marginRight: \"10px\",\r\n                 }}\r\n             >\r\n-                <Grid container spacing={2} marginBottom=\"8px\" alignItems=\"center\">\r\n+                <Grid container spacing={1} marginBottom=\"8px\" alignItems=\"center\">\r\n                     <Grid item xs={8} lg={4}>\r\n                         <input type=\"text\" placeholder=\"ค้นหาวัตถุดิบ\" value={search} onChange={handleSearch} />\r\n                     </Grid>\r\n \r\n"
                },
                {
                    "date": 1740609141709,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -128,16 +128,9 @@\n         ingredient.name.toLowerCase().includes(search) &&\r\n         (categoryFilter ? ingredient.category === categoryFilter : true)\r\n     );\r\n \r\n-    const totalPages = Math.ceil(filteredIngredients.length / itemsPerPage);\r\n-    const startIndex = (currentPage - 1) * itemsPerPage;\r\n-    const paginatedIngredients = filteredIngredients.slice(startIndex, startIndex + itemsPerPage);\r\n \r\n-    const handleNextPage = () => currentPage < totalPages && setCurrentPage(currentPage + 1);\r\n-    const handleBeforePage = () => currentPage > 1 && setCurrentPage(currentPage - 1);\r\n-\r\n-\r\n     return (\r\n         <>\r\n             {/* Box ของ MenuList */}\r\n             <Box\r\n"
                },
                {
                    "date": 1740609161536,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -128,9 +128,11 @@\n         ingredient.name.toLowerCase().includes(search) &&\r\n         (categoryFilter ? ingredient.category === categoryFilter : true)\r\n     );\r\n \r\n-\r\n+    const totalPages = Math.ceil(filteredIngredients.length / itemsPerPage);\r\n+    const startIndex = (currentPage - 1) * itemsPerPage;\r\n+    const paginatedIngredients = filteredIngredients.slice(startIndex, startIndex + itemsPerPage);\r\n     return (\r\n         <>\r\n             {/* Box ของ MenuList */}\r\n             <Box\r\n"
                },
                {
                    "date": 1740609185582,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState, useEffect } from 'react';\r\n-import { Grid, Box, Modal, useMediaQuery } from \"@mui/material\";\r\n+import { Grid, Box, Modal, useMediaQuery, Alert } from \"@mui/material\";\r\n import AddIngredient from './assets/AddIngredient';\r\n import './IngredientManager.css';\r\n import IngredientTable from './assets/IngredientTable';\r\n import axios from 'axios';\r\n"
                },
                {
                    "date": 1740609203008,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState, useEffect } from 'react';\r\n-import { Grid, Box, Modal, useMediaQuery, Alert } from \"@mui/material\";\r\n+import { Grid, Box, Modal, useMediaQuery } from \"@mui/material\";\r\n import AddIngredient from './assets/AddIngredient';\r\n import './IngredientManager.css';\r\n import IngredientTable from './assets/IngredientTable';\r\n import axios from 'axios';\r\n"
                },
                {
                    "date": 1740609409876,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n \r\n         axios.get('http://localhost:5000/api/add_menus/category')\r\n             .then(res => { setCategory(res.data); })\r\n             .catch(err => console.error('Error fetching categories:', err));\r\n-    }, []);\r\n+    }, [data]);\r\n \r\n     // API: 1.Edit 2.Add\r\n     const handleSaveData = (updatedData) => {\r\n         if (isEditing) {\r\n"
                },
                {
                    "date": 1740609419821,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n \r\n         axios.get('http://localhost:5000/api/add_menus/category')\r\n             .then(res => { setCategory(res.data); })\r\n             .catch(err => console.error('Error fetching categories:', err));\r\n-    }, [data]);\r\n+    }, []);\r\n \r\n     // API: 1.Edit 2.Add\r\n     const handleSaveData = (updatedData) => {\r\n         if (isEditing) {\r\n"
                },
                {
                    "date": 1740609482744,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,26 +36,26 @@\n \r\n     // API: 1.Edit 2.Add\r\n     const handleSaveData = (updatedData) => {\r\n         if (isEditing) {\r\n-            //console.log('วัตถุดิบ  :', dataToEdit._id);\r\n             axios.put(`http://localhost:5000/api/ingredients/${dataToEdit._id}`, updatedData)\r\n                 .then(res => {\r\n-                    //console.log('แก้ไขวัตถุดิบเป็น: ', res.data);\r\n                     setData(data.map(user => (user._id === res.data._id ? res.data : user)));\r\n                 })\r\n                 .catch(err => console.error('Failed to update user:', err));\r\n         } else {\r\n-            //console.log('วัตถุดิบ:', updatedData);\r\n             axios.post('http://localhost:5000/api/ingredients', updatedData)\r\n-                .then(res => {\r\n-                    //console.log('เพิ่มวัตถุดิบเข้าสู่ database สำเร็จ');\r\n-                    setData(prev => [...prev, res.data]);\r\n+                .then(() => {\r\n+                    // ดึงข้อมูลใหม่ทั้งหมดจาก database\r\n+                    axios.get('http://localhost:5000/api/ingredients')\r\n+                        .then(res => setData(res.data))\r\n+                        .catch(err => console.error('Error fetching ingredients:', err));\r\n                 })\r\n                 .catch(err => console.error('เพิ่มวัตถุดิบเข้าสู่ database ไม่สำเร็จ:', err));\r\n         }\r\n         setShowEditData(false); // ปิดหน้าต่าง AddIngredient.jsx\r\n     };\r\n+    \r\n \r\n     // API: 3.Delete\r\n     const handleDeleteIngredient = (data) => {\r\n         //console.log(data._id);\r\n"
                },
                {
                    "date": 1740609515336,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,26 +36,22 @@\n \r\n     // API: 1.Edit 2.Add\r\n     const handleSaveData = (updatedData) => {\r\n         if (isEditing) {\r\n+            //console.log('วัตถุดิบ  :', dataToEdit._id);\r\n             axios.put(`http://localhost:5000/api/ingredients/${dataToEdit._id}`, updatedData)\r\n-                .then(res => {\r\n-                    setData(data.map(user => (user._id === res.data._id ? res.data : user)));\r\n-                })\r\n+                .then(res => {setData(data.map(user => (user._id === res.data._id ? res.data : user)));})\r\n                 .catch(err => console.error('Failed to update user:', err));\r\n         } else {\r\n+            //console.log('วัตถุดิบ:', updatedData);\r\n             axios.post('http://localhost:5000/api/ingredients', updatedData)\r\n-                .then(() => {\r\n-                    // ดึงข้อมูลใหม่ทั้งหมดจาก database\r\n-                    axios.get('http://localhost:5000/api/ingredients')\r\n-                        .then(res => setData(res.data))\r\n-                        .catch(err => console.error('Error fetching ingredients:', err));\r\n+                .then(res => {\r\n+                    setData(prev => [...prev, res.data]);\r\n                 })\r\n                 .catch(err => console.error('เพิ่มวัตถุดิบเข้าสู่ database ไม่สำเร็จ:', err));\r\n         }\r\n         setShowEditData(false); // ปิดหน้าต่าง AddIngredient.jsx\r\n     };\r\n-    \r\n \r\n     // API: 3.Delete\r\n     const handleDeleteIngredient = (data) => {\r\n         //console.log(data._id);\r\n"
                },
                {
                    "date": 1740609525952,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,18 +36,16 @@\n \r\n     // API: 1.Edit 2.Add\r\n     const handleSaveData = (updatedData) => {\r\n         if (isEditing) {\r\n-            //console.log('วัตถุดิบ  :', dataToEdit._id);\r\n+            console.log('วัตถุดิบ  :', dataToEdit._id);\r\n             axios.put(`http://localhost:5000/api/ingredients/${dataToEdit._id}`, updatedData)\r\n                 .then(res => {setData(data.map(user => (user._id === res.data._id ? res.data : user)));})\r\n                 .catch(err => console.error('Failed to update user:', err));\r\n         } else {\r\n-            //console.log('วัตถุดิบ:', updatedData);\r\n+            console.log('วัตถุดิบ:', updatedData);\r\n             axios.post('http://localhost:5000/api/ingredients', updatedData)\r\n-                .then(res => {\r\n-                    setData(prev => [...prev, res.data]);\r\n-                })\r\n+                .then(res => {setData(prev => [...prev, res.data]);})\r\n                 .catch(err => console.error('เพิ่มวัตถุดิบเข้าสู่ database ไม่สำเร็จ:', err));\r\n         }\r\n         setShowEditData(false); // ปิดหน้าต่าง AddIngredient.jsx\r\n     };\r\n"
                },
                {
                    "date": 1740609540479,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,14 +36,14 @@\n \r\n     // API: 1.Edit 2.Add\r\n     const handleSaveData = (updatedData) => {\r\n         if (isEditing) {\r\n-            console.log('วัตถุดิบ  :', dataToEdit._id);\r\n+            console.log('วัตถุดิบ (อัปเดต):', dataToEdit._id);\r\n             axios.put(`http://localhost:5000/api/ingredients/${dataToEdit._id}`, updatedData)\r\n                 .then(res => {setData(data.map(user => (user._id === res.data._id ? res.data : user)));})\r\n                 .catch(err => console.error('Failed to update user:', err));\r\n         } else {\r\n-            console.log('วัตถุดิบ:', updatedData);\r\n+            console.log('วัตถุดิบ (ใหม่):', updatedData);\r\n             axios.post('http://localhost:5000/api/ingredients', updatedData)\r\n                 .then(res => {setData(prev => [...prev, res.data]);})\r\n                 .catch(err => console.error('เพิ่มวัตถุดิบเข้าสู่ database ไม่สำเร็จ:', err));\r\n         }\r\n"
                },
                {
                    "date": 1740609552488,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,9 +46,9 @@\n             axios.post('http://localhost:5000/api/ingredients', updatedData)\r\n                 .then(res => {setData(prev => [...prev, res.data]);})\r\n                 .catch(err => console.error('เพิ่มวัตถุดิบเข้าสู่ database ไม่สำเร็จ:', err));\r\n         }\r\n-        setShowEditData(false); // ปิดหน้าต่าง AddIngredient.jsx\r\n+        setShowEditData(false);\r\n     };\r\n \r\n     // API: 3.Delete\r\n     const handleDeleteIngredient = (data) => {\r\n"
                },
                {
                    "date": 1740609693461,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,13 @@\n                 .catch(err => console.error('Failed to update user:', err));\r\n         } else {\r\n             console.log('วัตถุดิบ (ใหม่):', updatedData);\r\n             axios.post('http://localhost:5000/api/ingredients', updatedData)\r\n-                .then(res => {setData(prev => [...prev, res.data]);})\r\n+            .then(() => {\r\n+                axios.get('http://localhost:5000/api/ingredients') // ดึงข้อมูลใหม่ทั้งหมด\r\n+                    .then(res => setData(res.data))\r\n+                    .catch(err => console.error('Error fetching ingredients:', err));\r\n+            })\r\n                 .catch(err => console.error('เพิ่มวัตถุดิบเข้าสู่ database ไม่สำเร็จ:', err));\r\n         }\r\n         setShowEditData(false);\r\n     };\r\n"
                },
                {
                    "date": 1740609747153,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,13 +43,9 @@\n                 .catch(err => console.error('Failed to update user:', err));\r\n         } else {\r\n             console.log('วัตถุดิบ (ใหม่):', updatedData);\r\n             axios.post('http://localhost:5000/api/ingredients', updatedData)\r\n-            .then(() => {\r\n-                axios.get('http://localhost:5000/api/ingredients') // ดึงข้อมูลใหม่ทั้งหมด\r\n-                    .then(res => setData(res.data))\r\n-                    .catch(err => console.error('Error fetching ingredients:', err));\r\n-            })\r\n+                .then(res => {setData(prev => [...prev, res.data]);})\r\n                 .catch(err => console.error('เพิ่มวัตถุดิบเข้าสู่ database ไม่สำเร็จ:', err));\r\n         }\r\n         setShowEditData(false);\r\n     };\r\n"
                },
                {
                    "date": 1740609790573,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -235,5 +235,18 @@\n                         {showEditData &&\r\n                             <AddIngredient\r\n                                 data={dataToEdit}\r\n                                 isEditing={isEditing}\r\n-             \n\\ No newline at end of file\n+                                onSave={handleSaveData}\r\n+                                onClose={() => setShowEditData(false)}\r\n+                            />\r\n+                        }\r\n+                    </Box>\r\n+                </Modal>\r\n+            )}\r\n+\r\n+\r\n+        </>\r\n+    );\r\n+};\r\n+\r\n+export default IngredientManager;\r\n"
                }
            ],
            "date": 1740378845222,
            "name": "Commit-0",
            "content": "import React, { useState, useEffect } from 'react';\r\nimport { HiChevronRight, HiChevronLeft } from \"react-icons/hi2\";\r\nimport AddIngredient from './assets/AddIngredient';\r\nimport './IngredientManager.css';\r\nimport IngredientTable from './assets/IngredientTable';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst IngredientManager = () => {\r\n    const [data, setData] = useState([]);   // Collecting datas from API\r\n    const [showEditData, setShowEditData] = useState(false);    // show AddIngredient.jsx\r\n    const [dataToEdit, setDataToEdit] = useState(null); // Edit data\r\n    const [isEditing, setIsEditing] = useState(false);  // Add & Edit data (mode toggle)\r\n    const [dataToDelete, setDataToDelete] = useState(null);     // Delete data\r\n\r\n    const [search, setSearch] = useState('');\r\n    const [category, setCategory] = useState([]);\r\n    const [categoryFilter, setCategoryFilter] = useState('');\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n\r\n    const itemsPerPage = 8;\r\n\r\n    // API: Fetch data from database\r\n    useEffect(() => {\r\n        axios.get('http://localhost:5000/api/ingredients')\r\n            .then(res => setData(res.data))\r\n            .catch(err => console.error('Error fetching ingredients:', err));\r\n\r\n        axios.get('http://localhost:5000/api/add_menus/category')\r\n            .then(res => { setCategory(res.data); })\r\n            .catch(err => console.error('Error fetching categories:', err));\r\n    }, []);\r\n\r\n    // API: 1.Edit 2.Add\r\n    const handleSaveData = (updatedData) => {\r\n        if (isEditing) {\r\n            //console.log('วัตถุดิบ  :', dataToEdit._id);\r\n            axios.put(`http://localhost:5000/api/ingredients/${dataToEdit._id}`, updatedData)\r\n                .then(res => {\r\n                    //console.log('แก้ไขวัตถุดิบเป็น: ', res.data);\r\n                    setData(data.map(user => (user._id === res.data._id ? res.data : user)));\r\n                })\r\n                .catch(err => console.error('Failed to update user:', err));\r\n        } else {\r\n            //console.log('วัตถุดิบ:', updatedData);\r\n            axios.post('http://localhost:5000/api/ingredients', updatedData)\r\n                .then(res => {\r\n                    //console.log('เพิ่มวัตถุดิบเข้าสู่ database สำเร็จ');\r\n                    setData(prev => [...prev, res.data]);\r\n                })\r\n                .catch(err => console.error('เพิ่มวัตถุดิบเข้าสู่ database ไม่สำเร็จ:', err));\r\n        }\r\n        setShowEditData(false); // ปิดหน้าต่าง AddIngredient.jsx\r\n    };\r\n\r\n    // API: 3.Delete\r\n    const handleDeleteIngredient = (data) => {\r\n        //console.log(data._id);\r\n        axios.delete(`http://localhost:5000/api/ingredients/${data._id}`)\r\n            .then((res) => {\r\n                //console.log('วัตถุดิบที่ต้องการลบ:', res.data);\r\n                Swal.fire({\r\n                    title: 'วัตถุดิบถูกลบแล้ว!',\r\n                    confirmButtonColor: '#64A2FF',\r\n                    icon: 'success',\r\n                });\r\n                setData((prevData) => prevData.filter((item) => item._id !== data._id));\r\n            })\r\n            .catch((err) => {\r\n                //console.error('เกิดข้อผิดพลาดในการลบวัตถุดิบ:', err);\r\n                Swal.fire({\r\n                    title: 'เกิดข้อผิดพลาดในการลบวัตถุดิบ',\r\n                    text: 'กรุณาลองใหม่อีกครั้ง',\r\n                    icon: 'error',\r\n                });\r\n            });\r\n    }\r\n\r\n\r\n    // Edit function\r\n    const handleEditData = (data) => {\r\n        setDataToEdit(data);\r\n        setIsEditing(true); // เปลี่ยนโหมดเป็น Edit\r\n        setShowEditData(true);\r\n    };\r\n\r\n    // Add function\r\n    const handleAddNewData = () => {\r\n        setDataToEdit({ name: '', group: '', unit: '', remain: null, min: null });\r\n        setIsEditing(false); // เปลี่ยนโหมดเป็น Add\r\n        setShowEditData(true);\r\n    };\r\n\r\n    // Confirm delete function\r\n    const handleClickConfirm = (e) => {\r\n        setDataToDelete(e);\r\n        Swal.fire({\r\n            title: \"แน่ใจใช่ไหม?\",\r\n            text: \"คุณกำลังจะลบ\" + \"\\nชื่อวัตถุดิบ: \" + e.name + \"\\nหมวดหมู่: \" + e.group,\r\n            icon: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonColor: \"#ff4b4b\",\r\n            cancelButtonColor: \"#B2B2B2\",\r\n            confirmButtonText: 'ยืนยันการลบ',\r\n            cancelButtonText: 'ยกเลิก',\r\n            dangerMode: true,\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                handleDeleteIngredient(e);\r\n            } else {\r\n                Swal.fire({\r\n                    title: 'ยกเลิกการลบ',\r\n                    confirmButtonColor: '#64A2FF',\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleSearch = (e) => setSearch(e.target.value.toLowerCase());\r\n    const handleCategoryFilter = (e) => setCategoryFilter(e.target.value);\r\n\r\n    // Filter function\r\n    const filteredIngredients = data.filter(ingredient =>\r\n        ingredient.name.toLowerCase().includes(search) &&\r\n        (categoryFilter ? ingredient.category === categoryFilter : true)\r\n    );\r\n\r\n    const totalPages = Math.ceil(filteredIngredients.length / itemsPerPage);\r\n    const startIndex = (currentPage - 1) * itemsPerPage;\r\n    const paginatedIngredients = filteredIngredients.slice(startIndex, startIndex + itemsPerPage);\r\n\r\n    const handleNextPage = () => currentPage < totalPages && setCurrentPage(currentPage + 1);\r\n    const handleBeforePage = () => currentPage > 1 && setCurrentPage(currentPage - 1);\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"middle-box\">\r\n                <div class='inline-elements'>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"ค้นหาวัตถุดิบ\"\r\n                        className=\"search-bar\"\r\n                        onChange={handleSearch}\r\n                        value={search}\r\n                    />\r\n                    <select className=\"category-filter\" onChange={handleCategoryFilter} value={categoryFilter} style={{ marginTop: \"10px\" }}>\r\n                        <option value=\"\">หมวดหมู่</option>\r\n                        <option value=\"เนื้อสัตว์\">เนื้อสัตว์</option>\r\n                        <option value=\"ผัก\">ผัก</option>\r\n                        <option value=\"ทะเล\">ทะเล</option>\r\n                        <option value=\"เครื่องดื่ม\">เครื่องดื่ม</option>\r\n                        <option value=\"ของหวาน\">ของหวาน</option>\r\n                    </select>\r\n                    <button className=\"blue-button\" onClick={handleAddNewData}>\r\n                        เพิ่มวัตถุดิบใหม่\r\n                    </button>\r\n                </div>\r\n\r\n                <IngredientTable data={paginatedIngredients} onEdit={handleEditData} handleClickConfirm={handleClickConfirm} />\r\n\r\n                {/* <div className=\"pagination text-black\">\r\n                    {currentPage > 1 && <button onClick={handleBeforePage} className='text-black'><HiChevronLeft /></button>}\r\n                    <span>หน้าที่ {currentPage} จาก {totalPages}</span>\r\n                    {currentPage < totalPages && <button onClick={handleNextPage} className='text-black'><HiChevronRight /></button>}\r\n                </div> */}\r\n            </div>\r\n\r\n            {showEditData &&\r\n                <AddIngredient\r\n                    data={dataToEdit}\r\n                    isEditing={isEditing}\r\n                    onSave={handleSaveData}\r\n                    onClose={() => setShowEditData(false)}\r\n                />\r\n            }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default IngredientManager;\r\n"
        }
    ]
}